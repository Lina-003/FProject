/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={893:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(81),s=n.n(i),r=n(645),a=n.n(r)()(s());a.push([e.id,".class-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    flex-direction: row;\n    background-color: black;\n    margin-left: 40px;\n    margin-right: 40px;\n    padding: 1rem;\n    box-shadow: 0px 6px 40px rgba(214.84, 214.84, 214.84, 0.06);\n}\n\n#Buscador {\n    background-color: black;\n    font-size: 14px;\n    color: #ededed;\n    background-size: 24px;\n    width: 400px;\n    border: 1px solid #ededed;\n    border-radius: 4px;\n    padding: 9px 9px 9px 30px;\n    outline: none;\n}\n\nbutton {\n    padding: 10px;\n    background-color: #ededed;\n    color: black;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n}\n\n.class-header .class-right button:hover {\n    background-color: #d1d1d1;\n}\n\nh3 {\n    color: white;\n    font-size: 14px;\n    font-weight:500;\n    font-family: 'Inter', sans-serif;\n    cursor: pointer;\n}\n\nimg {\n    cursor: pointer;\n\n}\n\n.class-header .class-right {\n    display: flex;\n    align-items: center;\n}\n\n.class-header .class-left {\n    display: flex;\n    align-items: center;\n    gap: 80px;\n}\n\n\n.dropdown-menu {\n   \n    position: absolute;\n    z-index: 1000;\n    transition: none;\n    color: white;\n    font-size: 14px;\n    font-weight:500;\n    font-family: 'Inter', sans-serif;\n    margin-left: 500px;\n    margin-top: 130px;\n    cursor: pointer;\n    line-height: 2;\n    \n}\n\n.dropdown-menu.show {\n    display: block;\n}\n",""]);const o=a},946:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(81),s=n.n(i),r=n(645),a=n.n(r)()(s());a.push([e.id,"\nh1 {\n    font-family: 'Inter', sans-serif;\n    color: white;\n    font-size: 15px;\n}\n\nh3 {\n    font-family: 'Inter', sans-serif;\n    color: white;\n    font-size: 14px;\n    font-weight: normal;\n    \n}\n\nimg {\n    display: grid;\n    border-radius: 15px;\n    height:267.57px;\n    width: 100%;\n    overflow: hidden;\n    object-fit: cover;\n    cursor: pointer;\n}\n",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,s,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);i&&a[u[0]]||(void 0!==r&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=r),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),s&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=s):u[4]="".concat(s)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={id:i,exports:{}};return e[i](r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{const e=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296==(64512&s)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},t={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let t=0;t<e.length;t+=3){const s=e[t],r=t+1<e.length,a=r?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,c=s>>2,u=(3&s)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,r||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(t,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(t):this.encodeByteArray(e(t),n)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((31&s)<<6|63&r)}else if(s>239&&s<365){const r=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(r>>10)),t[i++]=String.fromCharCode(56320+(1023&r))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let t=0;t<e.length;){const r=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const l=t<e.length?n[e.charAt(t)]:64;if(++t,null==r||null==a||null==o||null==l)throw new i;const c=r<<2|a>>4;if(s.push(c),64!==o){const e=a<<4&240|o>>2;if(s.push(e),64!==l){const e=o<<6&192|l;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class i extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s=function(n){return function(n){const i=e(n);return t.encodeByteArray(i,!0)}(n).replace(/\./g,"")},r=function(e){try{return t.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},a=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&r(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},o=e=>{var t,n;return null===(n=null===(t=a())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},l=()=>{var e;return null===(e=a())||void 0===e?void 0:e.config},c=e=>{var t;return null===(t=a())||void 0===t?void 0:t[`_${e}`]};class u{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class d extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,d.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p.prototype.create)}}class p{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],r=s?function(e,t){return e.replace(m,((e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`}))}(s,n):"Error",a=`${this.serviceName}: ${r} (${i}).`;return new d(i,a,n)}}const m=/\{\$([^}]+)}/g;function f(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const n=e[s],r=t[s];if(g(n)&&g(r)){if(!f(n,r))return!1}else if(n!==r)return!1}for(const e of i)if(!n.includes(e))return!1;return!0}function g(e){return null!==e&&"object"==typeof e}function v(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function y(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function b(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class w{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=E),void 0===i.error&&(i.error=E),void 0===i.complete&&(i.complete=E);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function E(){}function C(e){return e&&e._delegate?e._delegate:e}class _{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const I="[DEFAULT]";class T{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new u;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(i)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:I})}catch(e){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=I){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=I){return this.instances.has(e)}getOptions(e=I){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(i);return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&e(r,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===I?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}var i;return n||null}normalizeInstanceIdentifier(e=I){return this.component?this.component.multipleInstances?e:I:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new T(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const S=[];var k,N;(N=k||(k={}))[N.DEBUG=0]="DEBUG",N[N.VERBOSE=1]="VERBOSE",N[N.INFO=2]="INFO",N[N.WARN=3]="WARN",N[N.ERROR=4]="ERROR",N[N.SILENT=5]="SILENT";const R={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},D=k.INFO,P={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},O=(e,t,...n)=>{if(t<e.logLevel)return;const i=(new Date).toISOString(),s=P[t];if(!s)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[s](`[${i}]  ${e.name}:`,...n)};class L{constructor(e){this.name=e,this._logLevel=D,this._logHandler=O,this._userLogHandler=null,S.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in k))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...e),this._logHandler(this,k.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...e),this._logHandler(this,k.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,k.INFO,...e),this._logHandler(this,k.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,k.WARN,...e),this._logHandler(this,k.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...e),this._logHandler(this,k.ERROR,...e)}}const M=(e,t)=>t.some((t=>e instanceof t));let x,U;const j=new WeakMap,F=new WeakMap,V=new WeakMap,q=new WeakMap,z=new WeakMap;let B={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return F.get(e);if("objectStoreNames"===t)return e.objectStoreNames||V.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return H(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function G(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(U||(U=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply($(this),e),H(j.get(this))}:function(...e){return H(t.apply($(this),e))}:function(e,...n){const i=t.call($(this),e,...n);return V.set(i,e.sort?e.sort():[e]),H(i)}:(e instanceof IDBTransaction&&function(e){if(F.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",r),e.removeEventListener("abort",r)},s=()=>{t(),i()},r=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",r),e.addEventListener("abort",r)}));F.set(e,t)}(e),M(e,x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,B):e);var t}function H(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",r)},s=()=>{t(H(e.result)),i()},r=()=>{n(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",r)}));return t.then((t=>{t instanceof IDBCursor&&j.set(t,e)})).catch((()=>{})),z.set(t,e),t}(e);if(q.has(e))return q.get(e);const t=G(e);return t!==e&&(q.set(e,t),z.set(t,e)),t}const $=e=>z.get(e),K=["get","getKey","getAll","getAllKeys","count"],W=["put","add","delete","clear"],J=new Map;function Q(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(J.get(t))return J.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=W.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!s&&!K.includes(n))return;const r=async function(e,...t){const r=this.transaction(e,s?"readwrite":"readonly");let a=r.store;return i&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),s&&r.done]))[0]};return J.set(t,r),r}var X;X=B,B={...X,get:(e,t,n)=>Q(e,t)||X.get(e,t,n),has:(e,t)=>!!Q(e,t)||X.has(e,t)};class Y{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Z="@firebase/app",ee="0.9.22",te=new L("@firebase/app"),ne="[DEFAULT]",ie={[Z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},se=new Map,re=new Map;function ae(e,t){try{e.container.addComponent(t)}catch(n){te.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function oe(e){const t=e.name;if(re.has(t))return te.debug(`There were multiple attempts to register component ${t}.`),!1;re.set(t,e);for(const t of se.values())ae(t,e);return!0}function le(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ce=new p("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const he="10.5.2";function de(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:ne,automaticDataCollectionEnabled:!1},t),s=i.name;if("string"!=typeof s||!s)throw ce.create("bad-app-name",{appName:String(s)});if(n||(n=l()),!n)throw ce.create("no-options");const r=se.get(s);if(r){if(f(n,r.options)&&f(i,r.config))return r;throw ce.create("duplicate-app",{appName:s})}const a=new A(s);for(const e of re.values())a.addComponent(e);const o=new ue(n,i,a);return se.set(s,o),o}function pe(e=ne){const t=se.get(e);if(!t&&e===ne&&l())return de();if(!t)throw ce.create("no-app",{appName:e});return t}function me(e,t,n){var i;let s=null!==(i=ie[e])&&void 0!==i?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),a=t.match(/\s|\//);if(r||a){const e=[`Unable to register library "${s}" with version "${t}":`];return r&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void te.warn(e.join(" "))}oe(new _(`${s}-version`,(()=>({library:s,version:t})),"VERSION"))}const fe="firebase-heartbeat-database",ge=1,ve="firebase-heartbeat-store";let ye=null;function be(){return ye||(ye=function(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const a=indexedDB.open(e,t),o=H(a);return i&&a.addEventListener("upgradeneeded",(e=>{i(H(a.result),e.oldVersion,e.newVersion,H(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{r&&e.addEventListener("close",(()=>r())),s&&e.addEventListener("versionchange",(e=>s(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(fe,ge,{upgrade:(e,t)=>{0===t&&e.createObjectStore(ve)}}).catch((e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})}))),ye}async function we(e,t){try{const n=(await be()).transaction(ve,"readwrite"),i=n.objectStore(ve);await i.put(t,Ee(e)),await n.done}catch(e){if(e instanceof d)te.warn(e.message);else{const t=ce.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});te.warn(t.message)}}}function Ee(e){return`${e.name}!${e.options.appId}`}class Ce{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ie(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=_e();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=_e(),{heartbeatsToSend:t,unsentEntries:n}=function(e,t=1024){const n=[];let i=e.slice();for(const s of e){const e=n.find((e=>e.agent===s.agent));if(e){if(e.dates.push(s.date),Te(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Te(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),i=s(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _e(){return(new Date).toISOString().substring(0,10)}class Ie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await be();return await t.transaction(ve).objectStore(ve).get(Ee(e))}catch(e){if(e instanceof d)te.warn(e.message);else{const t=ce.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});te.warn(t.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return we(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return we(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Te(e){return s(JSON.stringify({version:2,heartbeats:e})).length}function Ae(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}oe(new _("platform-logger",(e=>new Y(e)),"PRIVATE")),oe(new _("heartbeat",(e=>new Ce(e)),"PRIVATE")),me(Z,ee,""),me(Z,ee,"esm2017"),me("fire-js",""),Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const Se=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ke=new p("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new L("@firebase/auth");function Re(e,...t){Ne.logLevel<=k.ERROR&&Ne.error(`Auth (${he}): ${e}`,...t)}function De(e,...t){throw Oe(e,...t)}function Pe(e,...t){return Oe(e,...t)}function Oe(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return ke.create(e,...t)}function Le(e,t,...n){if(!e)throw Oe(t,...n)}function Me(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Re(t),new Error(t)}function xe(e,t){e||Me(t)}function Ue(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function je(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Fe(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===je()||"https:"===je()||function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Ve{constructor(e,t){this.shortDelay=e,this.longDelay=t,xe(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Fe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(e,t){xe(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ze{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ge=new Ve(3e4,6e4);function He(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $e(e,t,n,i,s={}){return Ke(e,s,(async()=>{let s={},r={};i&&("GET"===t?r=i:s={body:JSON.stringify(i)});const a=v(Object.assign({key:e.config.apiKey},r)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),ze.fetch()(Je(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},s))}))}async function Ke(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},Be),t);try{const t=new Xe(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const r=await s.json();if("needConfirmation"in r)throw Ye(e,"account-exists-with-different-credential",r);if(s.ok&&!("errorMessage"in r))return r;{const t=s.ok?r.errorMessage:r.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Ye(e,"credential-already-in-use",r);if("EMAIL_EXISTS"===n)throw Ye(e,"email-already-in-use",r);if("USER_DISABLED"===n)throw Ye(e,"user-disabled",r);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(e,t,n){const i=Object.assign(Object.assign({},Se()),{[t]:n});return new p("auth","Firebase",i).create(t,{appName:e.name})}(e,o,a);De(e,o)}}catch(t){if(t instanceof d)throw t;De(e,"network-request-failed",{message:String(t)})}}async function We(e,t,n,i,s={}){const r=await $e(e,t,n,i,s);return"mfaPendingCredential"in r&&De(e,"multi-factor-auth-required",{_serverResponse:r}),r}function Je(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?qe(e.config,s):`${e.config.apiScheme}://${s}`}function Qe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Xe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Pe(this.auth,"network-request-failed"))),Ge.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ye(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Pe(e,t,i);return s.customData._tokenResponse=n,s}function Ze(e){return void 0!==e&&void 0!==e.enterprise}class et{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Qe(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function tt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}function nt(e){return 1e3*Number(e)}function it(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Re("JWT malformed, contained fewer than 3 sections"),null;try{const e=r(n);return e?JSON.parse(e):(Re("Failed to decode base64 JWT payload"),null)}catch(e){return Re("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function st(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof d&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class rt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null==e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}class at{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tt(this.lastLoginAt),this.creationTime=tt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ot(e){var t;const n=e.auth,i=await e.getIdToken(),s=await st(e,async function(e,t){return $e(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Le(null==s?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const a=(null===(t=r.providerUserInfo)||void 0===t?void 0:t.length)?r.providerUserInfo.map((e=>{var{providerId:t}=e,n=Ae(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&r.passwordHash||(null==o?void 0:o.length)),d=!!u&&h,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new at(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(void 0!==e.idToken,"internal-error"),Le(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=it(e);return Le(t,"internal-error"),Le(void 0!==t.exp,"internal-error"),Le(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return Le(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await async function(e,t){const n=await Ke(e,{},(async()=>{const n=v({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,r=Je(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()(r,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,r=new lt;return n&&(Le("string"==typeof n,"internal-error",{appName:e}),r.refreshToken=n),i&&(Le("string"==typeof i,"internal-error",{appName:e}),r.accessToken=i),s&&(Le("number"==typeof s,"internal-error",{appName:e}),r.expirationTime=s),r}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lt,this.toJSON())}_performRefresh(){return Me("not implemented")}}function ct(e,t){Le("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ut{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,s=Ae(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new at(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await st(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=C(e),i=await n.getIdToken(t),s=it(i);Le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r="object"==typeof s.firebase?s.firebase:void 0,a=null==r?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:tt(nt(s.auth_time)),issuedAtTime:tt(nt(s.iat)),expirationTime:tt(nt(s.exp)),signInProvider:a||null,signInSecondFactor:(null==r?void 0:r.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=C(e);await ot(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ut(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ot(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await st(this,async function(e,t){return $e(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,s,r,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(r=t.photoURL)&&void 0!==r?r:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,f=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:C}=t;Le(y&&C,e,"internal-error");const _=lt.fromJSON(this.name,C);Le("string"==typeof y,e,"internal-error"),ct(u,e.name),ct(h,e.name),Le("boolean"==typeof b,e,"internal-error"),Le("boolean"==typeof w,e,"internal-error"),ct(d,e.name),ct(p,e.name),ct(m,e.name),ct(f,e.name),ct(g,e.name),ct(v,e.name);const I=new ut({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:m,stsTokenManager:_,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(I.providerData=E.map((e=>Object.assign({},e)))),f&&(I._redirectEventId=f),I}static async _fromIdTokenResponse(e,t,n=!1){const i=new lt;i.updateFromServerResponse(t);const s=new ut({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ot(s),s}}const ht=new Map;function dt(e){xe(e instanceof Function,"Expected a class definition");let t=ht.get(e);return t?(xe(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ht.set(e,t),t)}class pt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pt.type="NONE";const mt=pt;function ft(e,t,n){return`firebase:${e}:${t}:${n}`}class gt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ft(this.userKey,i.apiKey,s),this.fullPersistenceKey=ft("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ut._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new gt(dt(mt),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let s=i[0]||dt(mt);const r=ft(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=await n._get(r);if(t){const i=ut._fromJSON(e,t);n!==s&&(a=i),s=n;break}}catch(e){}const o=i.filter((e=>e._shouldAllowMigration));return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(r,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==s)try{await e._remove(r)}catch(e){}}))),new gt(s,e,n)):new gt(s,e,n)}}function vt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Et(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_t(t))return"Blackberry";if(It(t))return"Webos";if(bt(t))return"Safari";if((t.includes("chrome/")||wt(t))&&!t.includes("edge/"))return"Chrome";if(Ct(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function yt(e=h()){return/firefox\//i.test(e)}function bt(e=h()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function wt(e=h()){return/crios\//i.test(e)}function Et(e=h()){return/iemobile/i.test(e)}function Ct(e=h()){return/android/i.test(e)}function _t(e=h()){return/blackberry/i.test(e)}function It(e=h()){return/webos/i.test(e)}function Tt(e=h()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function At(e=h()){return Tt(e)||Ct(e)||It(e)||_t(e)||/windows phone/i.test(e)||Et(e)}function St(e,t=[]){let n;switch(e){case"Browser":n=vt(h());break;case"Worker":n=`${vt(h())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${he}/${i}`}class kt{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(e){i(e)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(const e of t)try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}class Nt{constructor(e){var t,n,i,s;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=r.minPasswordLength)&&void 0!==t?t:6,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),void 0!==r.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),void 0!==r.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),void 0!==r.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),void 0!==r.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,s,r,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsLowercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(r=o.containsNumericCharacter)||void 0===r||r),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Rt{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pt(this),this.idTokenSubscription=new Pt(this),this.beforeStateQueue=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ke,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=dt(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await gt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null==i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null==a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(e){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(e)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ot(e)}catch(e){if("auth/network-request-failed"!==(null==e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?C(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(dt(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return $e(e,"GET","/v2/passwordPolicy",He(e,t))}(this),t=new Nt(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new p("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&dt(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await gt.create(this,[dt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let r=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(a,this,"internal-error"),a.then((()=>{r||s(this.currentUser)})),"function"==typeof t){const s=e.addObserver(t,n,i);return()=>{r=!0,s()}}{const n=e.addObserver(t);return()=>{r=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=St(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Ne.logLevel<=k.WARN&&Ne.warn(`Auth (${he}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function Dt(e){return C(e)}class Pt{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new w(e,void 0);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ot(e){return new Promise(((t,n)=>{const i=document.createElement("script");var s,r;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Pe("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(r=null===(s=document.getElementsByTagName("head"))||void 0===s?void 0:s[0])&&void 0!==r?r:document).appendChild(i)}))}function Lt(e){return`__${e}${Math.floor(1e6*Math.random())}`}class Mt{constructor(e){this.type="recaptcha-enterprise",this.auth=Dt(e)}async verify(e="verify",t=!1){function n(t,n,i){const s=window.grecaptcha;Ze(s)?s.enterprise.ready((()=>{s.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{(async function(e,t){return $e(e,"GET","/v2/recaptchaConfig",He(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new et(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((s=>{if(!t&&Ze(window.grecaptcha))n(s,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));Ot("https://www.google.com/recaptcha/enterprise.js?render="+s).then((()=>{n(s,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function xt(e,t,n,i=!1){const s=new Mt(e);let r;try{r=await s.verify(n)}catch(e){r=await s.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:r}):Object.assign(a,{captchaResponse:r}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ut(e,t,n,i){var s;if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await xt(e,t,n,"getOobCode"===n);return i(e,s)}return i(e,t).catch((async s=>{if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await xt(e,t,n,"getOobCode"===n);return i(e,s)}return Promise.reject(s)}))}function jt(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ft(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Vt{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Me("not implemented")}_getIdTokenResponse(e){return Me("not implemented")}_linkToIdToken(e,t){return Me("not implemented")}_getReauthenticationResolver(e){return Me("not implemented")}}async function qt(e,t){return We(e,"POST","/v1/accounts:signInWithPassword",He(e,t))}class zt extends Vt{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new zt(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new zt(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ut(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",qt);case"emailLink":return async function(e,t){return We(e,"POST","/v1/accounts:signInWithEmailLink",He(e,t))}(e,{email:this._email,oobCode:this._password});default:De(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return async function(e,t){return $e(e,"POST","/v1/accounts:update",t)}(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return We(e,"POST","/v1/accounts:signInWithEmailLink",He(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:De(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Bt(e,t){return We(e,"POST","/v1/accounts:signInWithIdp",He(e,t))}class Gt extends Vt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):De("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,s=Ae(t,["providerId","signInMethod"]);if(!n||!i)return null;const r=new Gt(n,i);return r.idToken=s.idToken||void 0,r.accessToken=s.accessToken||void 0,r.secret=s.secret,r.nonce=s.nonce,r.pendingToken=s.pendingToken||null,r}_getIdTokenResponse(e){return Bt(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Bt(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Bt(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=v(t)}return e}}const Ht={USER_NOT_FOUND:"user-not-found"};class $t extends Vt{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $t({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $t({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return We(e,"POST","/v1/accounts:signInWithPhoneNumber",He(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await We(e,"POST","/v1/accounts:signInWithPhoneNumber",He(e,t));if(n.temporaryProof)throw Ye(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return We(e,"POST","/v1/accounts:signInWithPhoneNumber",He(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ht)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:s}=e;return n||t||i||s?new $t({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:s}):null}}class Kt{constructor(e){var t,n,i,s,r,a;const o=y(b(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);Le(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(r=o.languageCode)&&void 0!==r?r:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=y(b(e)).link,n=t?y(b(t)).deep_link_id:null,i=y(b(e)).deep_link_id;return(i?y(b(i)).link:null)||i||n||t||e}(e);try{return new Kt(t)}catch(e){return null}}}class Wt{constructor(){this.providerId=Wt.PROVIDER_ID}static credential(e,t){return zt._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kt.parseLink(t);return Le(n,"argument-error"),zt._fromEmailAndCode(e,n.code,n.tenantId)}}Wt.PROVIDER_ID="password",Wt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Jt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qt extends Jt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Xt extends Qt{constructor(){super("facebook.com")}static credential(e){return Gt._fromParams({providerId:Xt.PROVIDER_ID,signInMethod:Xt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xt.credentialFromTaggedObject(e)}static credentialFromError(e){return Xt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Xt.credential(e.oauthAccessToken)}catch(e){return null}}}Xt.FACEBOOK_SIGN_IN_METHOD="facebook.com",Xt.PROVIDER_ID="facebook.com";class Yt extends Qt{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gt._fromParams({providerId:Yt.PROVIDER_ID,signInMethod:Yt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yt.credentialFromTaggedObject(e)}static credentialFromError(e){return Yt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Yt.credential(t,n)}catch(e){return null}}}Yt.GOOGLE_SIGN_IN_METHOD="google.com",Yt.PROVIDER_ID="google.com";class Zt extends Qt{constructor(){super("github.com")}static credential(e){return Gt._fromParams({providerId:Zt.PROVIDER_ID,signInMethod:Zt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zt.credentialFromTaggedObject(e)}static credentialFromError(e){return Zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Zt.credential(e.oauthAccessToken)}catch(e){return null}}}Zt.GITHUB_SIGN_IN_METHOD="github.com",Zt.PROVIDER_ID="github.com";class en extends Qt{constructor(){super("twitter.com")}static credential(e,t){return Gt._fromParams({providerId:en.PROVIDER_ID,signInMethod:en.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return en.credentialFromTaggedObject(e)}static credentialFromError(e){return en.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return en.credential(t,n)}catch(e){return null}}}async function tn(e,t){return We(e,"POST","/v1/accounts:signUp",He(e,t))}en.TWITTER_SIGN_IN_METHOD="twitter.com",en.PROVIDER_ID="twitter.com";class nn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await ut._fromIdTokenResponse(e,n,i),r=sn(n);return new nn({user:s,providerId:r,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=sn(n);return new nn({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function sn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class rn extends d{constructor(e,t,n,i){var s;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,rn.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new rn(e,t,n,i)}}function an(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw rn._fromErrorAndOperation(e,n,t,i);throw n}))}async function on(e,t,n=!1){const i="signIn",s=await an(e,i,t),r=await nn._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function ln(e){const t=Dt(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function cn(e){return C(e).signOut()}new WeakMap;const un="__sak";class hn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(un,"1"),this.storage.removeItem(un),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class dn extends hn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=h();return bt(e)||Tt(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=At(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);!function(){const e=h();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()||10!==document.documentMode||s===e.newValue||e.newValue===e.oldValue?i():setTimeout(i,10)}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}dn.type="LOCAL";const pn=dn;class mn extends hn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mn.type="SESSION";const fn=mn;class gn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new gn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,r=this.handlersMap[i];if(!(null==r?void 0:r.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(r).map((async e=>e(t.origin,s))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function vn(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}gn.receivers=[];class yn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,r;return new Promise(((a,o)=>{const l=vn("",20);i.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);r={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(r),i.port1.addEventListener("message",r.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{r&&this.removeMessageHandler(r)}))}}function bn(){return window}function wn(){return void 0!==bn().WorkerGlobalScope&&"function"==typeof bn().importScripts}const En="firebaseLocalStorageDb",Cn="firebaseLocalStorage",_n="fbase_key";class In{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Tn(e,t){return e.transaction([Cn],t?"readwrite":"readonly").objectStore(Cn)}function An(){const e=indexedDB.open(En,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Cn,{keyPath:_n})}catch(e){n(e)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Cn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(En);return new In(e).toPromise()}(),t(await An()))}))}))}async function Sn(e,t,n){const i=Tn(e,!0).put({[_n]:t,value:n});return new In(i).toPromise()}function kn(e,t){const n=Tn(e,!0).delete(t);return new In(n).toPromise()}class Nn{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await An()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gn._getInstance(wn()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new yn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await An();return await Sn(e,un,"1"),await kn(e,un),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Sn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Tn(e,!1).get(t),i=await new In(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>kn(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Tn(e,!1).getAll();return new In(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Nn.type="LOCAL";const Rn=Nn;Lt("rcb"),new Ve(3e4,6e4);class Dn{constructor(e){this.providerId=Dn.PROVIDER_ID,this.auth=Dt(e)}verifyPhoneNumber(e,t){return async function(e,t,n){var i;const s=await n.verify();try{let r;if(Le("string"==typeof s,e,"argument-error"),Le("recaptcha"===n.type,e,"argument-error"),r="string"==typeof t?{phoneNumber:t}:t,"session"in r){const t=r.session;if("phoneNumber"in r){Le("enroll"===t.type,e,"internal-error");const n=await function(e,t){return $e(e,"POST","/v2/accounts/mfaEnrollment:start",He(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,recaptchaToken:s}});return n.phoneSessionInfo.sessionInfo}{Le("signin"===t.type,e,"internal-error");const n=(null===(i=r.multiFactorHint)||void 0===i?void 0:i.uid)||r.multiFactorUid;Le(n,e,"missing-multi-factor-info");const a=await function(e,t){return $e(e,"POST","/v2/accounts/mfaSignIn:start",He(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:s}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return $e(e,"POST","/v1/accounts:sendVerificationCode",He(e,t))}(e,{phoneNumber:r.phoneNumber,recaptchaToken:s});return t}}finally{n._reset()}}(this.auth,e,C(t))}static credential(e,t){return $t._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Dn.credentialFromTaggedObject(t)}static credentialFromError(e){return Dn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?$t._fromTokenResponse(t,n):null}}Dn.PROVIDER_ID="phone",Dn.PHONE_SIGN_IN_METHOD="phone";class Pn extends Vt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bt(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Bt(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Bt(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function On(e){return on(e.auth,new Pn(e),e.bypassAuthState)}function Ln(e){const{auth:t,user:n}=e;return Le(n,t,"internal-error"),async function(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await st(e,an(i,s,t,e),n);Le(r.idToken,i,"internal-error");const a=it(r.idToken);Le(a,i,"internal-error");const{sub:o}=a;return Le(e.uid===o,i,"user-mismatch"),nn._forOperation(e,s,r)}catch(e){throw"auth/user-not-found"===(null==e?void 0:e.code)&&De(i,"user-mismatch"),e}}(n,new Pn(e),e.bypassAuthState)}async function Mn(e){const{auth:t,user:n}=e;return Le(n,t,"internal-error"),async function(e,t,n=!1){const i=await st(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return nn._forOperation(e,"link",i)}(n,new Pn(e),e.bypassAuthState)}class xn{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:r,type:a}=e;if(r)return void this.reject(r);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return On;case"linkViaPopup":case"linkViaRedirect":return Mn;case"reauthViaPopup":case"reauthViaRedirect":return Ln;default:De(this.auth,"internal-error")}}resolve(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Un=new Ve(2e3,1e4);class jn extends xn{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,jn.currentPopupAction&&jn.currentPopupAction.cancel(),jn.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){xe(1===this.filter.length,"Popup operations only handle one event");const e=vn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Pe(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jn.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Un.get())};e()}}jn.currentPopupAction=null;const Fn="pendingRedirect",Vn=new Map;class qn extends xn{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vn.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return ft(Fn,e.config.apiKey,e.name)}(t),i=function(e){return dt(e._redirectPersistence)}(e);if(!await i._isAvailable())return!1;const s="true"===await i._get(n);return await i._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vn.set(this.auth._key(),e)}return this.bypassAuthState||Vn.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function zn(e,t){Vn.set(e._key(),t)}async function Bn(e,t,n=!1){const i=Dt(e),s=function(e,t){return t?dt(t):(Le(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,t),r=new qn(i,s,n),a=await r.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class Gn{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $n(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!$n(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pe(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hn(e))}saveEventToCache(e){this.cachedEventUids.add(Hn(e)),this.lastProcessedEventTime=Date.now()}}function Hn(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function $n({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}const Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wn=/^https?/;function Jn(e){const t=Ue(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===i}if(!Wn.test(n))return!1;if(Kn.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}const Qn=new Ve(3e4,6e4);function Xn(){const e=bn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}let Yn=null;function Zn(e){return Yn=Yn||function(e){return new Promise(((t,n)=>{var i,s,r;function a(){Xn(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xn(),n(Pe(e,"network-request-failed"))},timeout:Qn.get()})}if(null===(s=null===(i=bn().gapi)||void 0===i?void 0:i.iframes)||void 0===s?void 0:s.Iframe)t(gapi.iframes.getContext());else{if(!(null===(r=bn().gapi)||void 0===r?void 0:r.load)){const t=Lt("iframefcb");return bn()[t]=()=>{gapi.load?a():n(Pe(e,"network-request-failed"))},Ot(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Yn=null,e}))}(e),Yn}const ei=new Ve(5e3,15e3),ti={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ii(e){const t=e.config;Le(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?qe(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:he},s=ni.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${v(i).slice(1)}`}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ri{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const ai=encodeURIComponent("fac");async function oi(e,t,n,i,s,r){Le(e.config.authDomain,e,"auth-domain-config-required"),Le(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:he,eventId:s};if(t instanceof Jt){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(r||{}))a[e]=t}if(t instanceof Qt){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const e of Object.keys(o))void 0===o[e]&&delete o[e];const l=await e._getAppCheckToken(),c=l?`#${ai}=${encodeURIComponent(l)}`:"";return`${function({config:e}){return e.emulator?qe(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${v(o).slice(1)}${c}`}const li="webStorageSupport",ci=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fn,this._completeRedirectFn=Bn,this._overrideRedirectResult=zn}async _openPopup(e,t,n,i){var s;return xe(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()"),function(e,t,n,i=500,s=600){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},si),{width:i.toString(),height:s.toString(),top:r,left:a}),c=h().toLowerCase();n&&(o=wt(c)?"_blank":n),yt(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(function(e=h()){var t;return Tt(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",o),new ri(null);const d=window.open(t||"",o,u);Le(d,e,"popup-blocked");try{d.focus()}catch(e){}return new ri(d)}(e,await oi(e,t,n,Ue(),i),vn())}async _openRedirect(e,t,n,i){return await this._originValidation(e),s=await oi(e,t,n,Ue(),i),bn().location.href=s,new Promise((()=>{}));var s}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(xe(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await Zn(e),n=bn().gapi;return Le(n,e,"internal-error"),t.open({where:document.body,url:ii(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ti,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const s=Pe(e,"network-request-failed"),r=bn().setTimeout((()=>{i(s)}),ei.get());function a(){bn().clearTimeout(r),n(t)}t.ping(a).then(a,(()=>{i(s)}))}))))}(e),n=new Gn(e);return t.register("authEvent",(t=>(Le(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(li,{type:li},(n=>{var i;const s=null===(i=null==n?void 0:n[0])||void 0===i?void 0:i[li];void 0!==s&&t(!!s),De(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return $e(e,"GET","/v1/projects",t)}(e);for(const e of t)try{if(Jn(e))return}catch(e){}De(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return At()||bt()||Tt()}};var ui="@firebase/auth",hi="1.3.2";class di{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const pi=c("authIdTokenMaxAge")||300;let mi=null;function fi(e=pe()){const t=le(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=le(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(f(n.getOptions(),null!=t?t:{}))return e;De(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:ci,persistence:[Rn,pn,fn]}),i=c("authTokenSyncURL");if(i){const e=(s=i,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pi)return;const i=null==t?void 0:t.token;mi!==i&&(mi=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});!function(e,t,n){C(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(t,n,i,s){C(t).onIdTokenChanged((t=>e(t)),void 0,void 0)}(n)}var s;const r=o("auth");return r&&function(e,t,n){const i=Dt(e);Le(i._canInitEmulator,i,"emulator-config-failed"),Le(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(null==n?void 0:n.disableWarnings),r=jt(t),{host:a,port:o}=function(e){const t=jt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const e=s[1];return{host:e,port:Ft(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:Ft(t)}}}(t),l=null===o?"":`:${o}`;i.config.emulator={url:`${r}//${a}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${r}`),n}var gi,vi;gi="Browser",oe(new _("auth",((e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:r,authDomain:a}=n.options;Le(r&&!r.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:r,authDomain:a,clientPlatform:gi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:St(gi)},l=new Rt(n,i,s,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(dt);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(l,t),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),oe(new _("auth-internal",(e=>(e=>new di(e))(Dt(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),me(ui,hi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gi)),me(ui,hi,"esm2017"),function(e){e.STORE="STORE"}(vi||(vi={}));var yi,bi,wi,Ei;!function(e){e.NAVIGATE="NAVIGATE"}(yi||(yi={})),(wi=bi||(bi={})).SAVE_COMMENT="SAVE_COMMENT",wi.GET_COMMENT="GET_COMMENT",function(e){e.DASHBOARD="DASHBOARD",e.REGIONS="REGIONS",e.CLIMATE="CLIMATE",e.SPOTSELECT="SPOTSELECT",e.LOGIN="LOGIN",e.SIGNIN="SIGNIN"}(Ei||(Ei={}));const Ci={screen:Ei.LOGIN,products:[]};let _i=(({key:e,defaultValue:t})=>{const n=localStorage.getItem(e)||sessionStorage.getItem(e);return n?JSON.parse(n):t})({key:vi.STORE,defaultValue:Ci}),Ii=[];const Ti=e=>{const t=((e,t)=>{const{type:n,payload:i}=e;switch(n){case"NAVIGATE":t.screen=i;break;case bi.SAVE_COMMENT:return t.products=[...t.products,i],t;case bi.GET_COMMENT:return t.products=i,t;default:return t}return t})(e,JSON.parse(JSON.stringify(_i)));var n;_i=t,n=t,(({key:e,value:t,session:n=!1})=>{const i=n?sessionStorage:localStorage,s=JSON.stringify(t);i.setItem(e,s)})({key:vi.STORE,value:n}),Ii.forEach((e=>e.render()))},Ai=e=>{Ii=[...Ii,e]};me("firebase","10.5.2","app");var Si,ki="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ni={},Ri=Ri||{},Di=ki||self;function Pi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Oi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Li="closure_uid_"+(1e9*Math.random()>>>0),Mi=0;function xi(e,t,n){return e.call.apply(e.bind,arguments)}function Ui(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ji(e,t,n){return(ji=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xi:Ui).apply(null,arguments)}function Fi(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vi(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var s=Array(arguments.length-2),r=2;r<arguments.length;r++)s[r-2]=arguments[r];return t.prototype[n].apply(e,s)}}function qi(){this.s=this.s,this.o=this.o}qi.prototype.s=!1,qi.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Li)&&e[Li]||(e[Li]=++Mi))},qi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const zi=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bi(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Gi(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Pi(n)){const t=e.length||0,i=n.length||0;e.length=t+i;for(let s=0;s<i;s++)e[t+s]=n[s]}else e.push(n)}}function Hi(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Hi.prototype.h=function(){this.defaultPrevented=!0};var $i=function(){if(!Di.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Di.addEventListener("test",(()=>{}),t),Di.removeEventListener("test",(()=>{}),t)}catch(e){}return e}();function Ki(e){return/^[\s\xa0]*$/.test(e)}function Wi(){var e=Di.navigator;return e&&(e=e.userAgent)?e:""}function Ji(e){return-1!=Wi().indexOf(e)}function Qi(e){return Qi[" "](e),e}Qi[" "]=function(){};var Xi,Yi,Zi,es=Ji("Opera"),ts=Ji("Trident")||Ji("MSIE"),ns=Ji("Edge"),is=ns||ts,ss=Ji("Gecko")&&!(-1!=Wi().toLowerCase().indexOf("webkit")&&!Ji("Edge"))&&!(Ji("Trident")||Ji("MSIE"))&&!Ji("Edge"),rs=-1!=Wi().toLowerCase().indexOf("webkit")&&!Ji("Edge");function as(){var e=Di.document;return e?e.documentMode:void 0}e:{var os="",ls=(Yi=Wi(),ss?/rv:([^\);]+)(\)|;)/.exec(Yi):ns?/Edge\/([\d\.]+)/.exec(Yi):ts?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yi):rs?/WebKit\/(\S+)/.exec(Yi):es?/(?:Version)[ \/]?(\S+)/.exec(Yi):void 0);if(ls&&(os=ls?ls[1]:""),ts){var cs=as();if(null!=cs&&cs>parseFloat(os)){Xi=String(cs);break e}}Xi=os}Di.document&&ts?Zi=as()||parseInt(Xi,10)||void 0:Zi=void 0;var us=Zi;function hs(e,t){if(Hi.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ss){e:{try{Qi(t.nodeName);var s=!0;break e}catch(e){}s=!1}s||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ds[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&hs.$.h.call(this)}}Vi(hs,Hi);var ds={2:"touch",3:"pen",4:"mouse"};hs.prototype.h=function(){hs.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ps="closure_listenable_"+(1e6*Math.random()|0),ms=0;function fs(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++ms,this.fa=this.ia=!1}function gs(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function vs(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function ys(e){const t={};for(const n in e)t[n]=e[n];return t}const bs="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ws(e,t){let n,i;for(let t=1;t<arguments.length;t++){for(n in i=arguments[t],i)e[n]=i[n];for(let t=0;t<bs.length;t++)n=bs[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Es(e){this.src=e,this.g={},this.h=0}function Cs(e,t){var n=t.type;if(n in e.g){var i,s=e.g[n],r=zi(s,t);(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(gs(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _s(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}Es.prototype.add=function(e,t,n,i,s){var r=e.toString();(e=this.g[r])||(e=this.g[r]=[],this.h++);var a=_s(e,t,i,s);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new fs(t,this.src,r,!!i,s)).ia=n,e.push(t)),t};var Is="closure_lm_"+(1e6*Math.random()|0),Ts={};function As(e,t,n,i,s){if(i&&i.once)return ks(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)As(e,t[r],n,i,s);return null}return n=Ms(n),e&&e[ps]?e.O(t,n,Oi(i)?!!i.capture:!!i,s):Ss(e,t,n,!1,i,s)}function Ss(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var a=Oi(s)?!!s.capture:!!s,o=Os(e);if(o||(e[Is]=o=new Es(e)),(n=o.add(t,n,i,a,r)).proxy)return n;if(i=function(){const e=Ps;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)$i||(s=a),void 0===s&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(Ds(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function ks(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)ks(e,t[r],n,i,s);return null}return n=Ms(n),e&&e[ps]?e.P(t,n,Oi(i)?!!i.capture:!!i,s):Ss(e,t,n,!0,i,s)}function Ns(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)Ns(e,t[r],n,i,s);else i=Oi(i)?!!i.capture:!!i,n=Ms(n),e&&e[ps]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=_s(r=e.g[t],n,i,s))&&(gs(r[n]),Array.prototype.splice.call(r,n,1),0==r.length&&(delete e.g[t],e.h--))):e&&(e=Os(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_s(t,n,i,s)),(n=-1<e?t[e]:null)&&Rs(n))}function Rs(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ps])Cs(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Ds(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Os(t))?(Cs(n,e),0==n.h&&(n.src=null,t[Is]=null)):gs(e)}}}function Ds(e){return e in Ts?Ts[e]:Ts[e]="on"+e}function Ps(e,t){if(e.fa)e=!0;else{t=new hs(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Rs(e),e=n.call(i,t)}return e}function Os(e){return(e=e[Is])instanceof Es?e:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ms(e){return"function"==typeof e?e:(e[Ls]||(e[Ls]=function(t){return e.handleEvent(t)}),e[Ls])}function xs(){qi.call(this),this.i=new Es(this),this.S=this,this.J=null}function Us(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"==typeof t)t=new Hi(t,e);else if(t instanceof Hi)t.target=t.target||e;else{var s=t;ws(t=new Hi(i,e),s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var a=t.g=n[r];s=js(a,i,!0,t)&&s}if(s=js(a=t.g=e,i,!0,t)&&s,s=js(a,i,!1,t)&&s,n)for(r=0;r<n.length;r++)s=js(a=t.g=n[r],i,!1,t)&&s}function js(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var a=t[r];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&Cs(e.i,a),s=!1!==o.call(l,i)&&s}}return s&&!i.defaultPrevented}Vi(xs,qi),xs.prototype[ps]=!0,xs.prototype.removeEventListener=function(e,t,n,i){Ns(this,e,t,n,i)},xs.prototype.N=function(){if(xs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)gs(n[i]);delete t.g[e],t.h--}}this.J=null},xs.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},xs.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Fs=Di.JSON.stringify;function Vs(){var e=Ks;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var qs=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new zs),(e=>e.reset()));class zs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Gs(e){Di.setTimeout((()=>{throw e}),0)}let Hs,$s=!1,Ks=new class{constructor(){this.h=this.g=null}add(e,t){const n=qs.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ws=()=>{const e=Di.Promise.resolve(void 0);Hs=()=>{e.then(Js)}};var Js=()=>{for(var e;e=Vs();){try{e.h.call(e.g)}catch(e){Gs(e)}var t=qs;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}$s=!1};function Qs(e,t){xs.call(this),this.h=e||1,this.g=t||Di,this.j=ji(this.qb,this),this.l=Date.now()}function Xs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ys(e,t,n){if("function"==typeof e)n&&(e=ji(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ji(e.handleEvent,e)}return 2147483647<Number(t)?-1:Di.setTimeout(e,t||0)}function Zs(e){e.g=Ys((()=>{e.g=null,e.i&&(e.i=!1,Zs(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Vi(Qs,xs),(Si=Qs.prototype).ga=!1,Si.T=null,Si.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Us(this,"tick"),this.ga&&(Xs(this),this.start()))}},Si.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Si.N=function(){Qs.$.N.call(this),Xs(this),delete this.g};class er extends qi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Zs(this)}N(){super.N(),this.g&&(Di.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(e){qi.call(this),this.h=e,this.g={}}Vi(tr,qi);var nr=[];function ir(e,t,n,i){Array.isArray(n)||(n&&(nr[0]=n.toString()),n=nr);for(var s=0;s<n.length;s++){var r=As(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function sr(e){vs(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Rs(e)}),e),e.g={}}function rr(){this.g=!0}function ar(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(var a=1;a<s.length;a++)s[a]=""}}}return Fs(n)}catch(e){return t}}(e,n)+(i?" "+i:"")}))}tr.prototype.N=function(){tr.$.N.call(this),sr(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rr.prototype.Ea=function(){this.g=!1},rr.prototype.info=function(){};var or={},lr=null;function cr(){return lr=lr||new xs}function ur(e){Hi.call(this,or.Ta,e)}function hr(e){const t=cr();Us(t,new ur(t))}function dr(e,t){Hi.call(this,or.STAT_EVENT,e),this.stat=t}function pr(e){const t=cr();Us(t,new dr(t,e))}function mr(e,t){Hi.call(this,or.Ua,e),this.size=t}function fr(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Di.setTimeout((function(){e()}),t)}or.Ta="serverreachability",Vi(ur,Hi),or.STAT_EVENT="statevent",Vi(dr,Hi),or.Ua="timingevent",Vi(mr,Hi);var gr={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},vr={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yr(){}function br(e){return e.h||(e.h=e.i())}function wr(){}yr.prototype.h=null;var Er,Cr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _r(){Hi.call(this,"d")}function Ir(){Hi.call(this,"c")}function Tr(){}function Ar(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new tr(this),this.P=kr,e=is?125:void 0,this.V=new Qs(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}Vi(_r,Hi),Vi(Ir,Hi),Vi(Tr,yr),Tr.prototype.g=function(){return new XMLHttpRequest},Tr.prototype.i=function(){return{}},Er=new Tr;var kr=45e3,Nr={},Rr={};function Dr(e,t,n){e.L=1,e.v=Qr(Hr(t)),e.s=n,e.S=!0,Pr(e,null)}function Pr(e,t){e.G=Date.now(),xr(e),e.A=Hr(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),ca(n.i,"t",i),e.C=0,n=e.l.J,e.h=new Sr,e.g=co(e.l,n?t:null,!e.s),0<e.O&&(e.M=new er(ji(e.Pa,e,e.g),e.O)),ir(e.U,e.g,"readystatechange",e.nb),t=e.I?ys(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),hr(),function(e,t,n,i,s,r){e.info((function(){if(e.g)if(r)for(var a="",o=r.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Or(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function Lr(e,t,n){let i,s=!0;for(;!e.J&&e.C<n.length;){if(i=Mr(e,n),i==Rr){4==t&&(e.o=4,pr(14),s=!1),ar(e.j,e.m,null,"[Incomplete Response]");break}if(i==Nr){e.o=4,pr(15),ar(e.j,e.m,n,"[Invalid Chunk]"),s=!1;break}ar(e.j,e.m,i,null),qr(e,i)}Or(e)&&i!=Rr&&i!=Nr&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,pr(16),s=!1),e.i=e.i&&s,s?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),to(t),t.M=!0,pr(11))):(ar(e.j,e.m,n,"[Invalid Chunked Response]"),Vr(e),Fr(e))}function Mr(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Rr:(n=Number(t.substring(n,i)),isNaN(n)?Nr:(i+=1)+n>t.length?Rr:(t=t.slice(i,i+n),e.C=i+n,t))}function xr(e){e.Y=Date.now()+e.P,Ur(e,e.P)}function Ur(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=fr(ji(e.lb,e),t)}function jr(e){e.B&&(Di.clearTimeout(e.B),e.B=null)}function Fr(e){0==e.l.H||e.J||so(e.l,e)}function Vr(e){jr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xs(e.V),sr(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function qr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||ga(n.i,e)))if(!e.K&&ga(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(e){i=null}if(Array.isArray(i)&&3==i.length){var s=i;if(0==s[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;io(n),Ka(n)}eo(n),pr(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&0==n.A&&!n.v&&(n.v=fr(ji(n.ib,n),6e3));if(1>=fa(n.i)&&n.oa){try{n.oa()}catch(e){}n.oa=void 0}}else ao(n,11)}else if((e.K||n.g==e)&&io(n),!Ki(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const s=c[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"==typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var r=i.i;r.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(r.j=r.l,r.g=new Set,r.h&&(va(r,r.h),r.h=null))}if(i.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,Jr(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((i=n).wa=lo(i,i.J?i.pa:null,i.Y),a.K){ya(i.i,a);var o=a,l=i.L;l&&o.setTimeout(l),o.B&&(jr(o),xr(o)),i.g=a}else Za(i);0<n.j.length&&Ja(n)}else"stop"!=c[0]&&"close"!=c[0]||ao(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?ao(n,7):$a(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}hr()}catch(e){}}function zr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Pi(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Pi(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Pi(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}(Si=Ar.prototype).setTimeout=function(e){this.P=e},Si.nb=function(e){e=e.target;const t=this.M;t&&3==Va(e)?t.l():this.Pa(e)},Si.Pa=function(e){try{if(e==this.g)e:{const u=Va(this.g);var t=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||is||this.g&&(this.h.h||this.g.ja()||qa(this.g)))){this.J||4!=u||7==t||hr(),jr(this);var n=this.g.da();this.ca=n;t:if(Or(this)){var i=qa(this.g);e="";var s=i.length,r=4==Va(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Vr(this),Fr(this);var a="";break t}this.h.i=new Di.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,i,s,r,a){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+r+" "+a}))}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ki(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,pr(12),Vr(this),Fr(this);break e}ar(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,n)}this.S?(Lr(this,u,a),is&&this.i&&3==u&&(ir(this.U,this.V,"tick",this.mb),this.V.start())):(ar(this.j,this.m,a,null),qr(this,a)),4==u&&Vr(this),this.i&&!this.J&&(4==u?so(this.l,this):(this.i=!1,xr(this)))}else(function(e){const t={};e=(e.g&&2<=Va(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(Ki(e[i]))continue;var n=Bs(e[i]);const s=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,pr(12)):(this.o=0,pr(13)),Vr(this),Fr(this)}}}catch(e){}},Si.mb=function(){if(this.g){var e=Va(this.g),t=this.g.ja();this.C<t.length&&(jr(this),Lr(this,e,t),this.i&&4!=e&&xr(this))}},Si.cancel=function(){this.J=!0,Vr(this)},Si.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(hr(),pr(17)),Vr(this),this.o=2,Fr(this)):Ur(this,this.Y-e)};var Br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gr(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Gr){this.h=e.h,$r(this,e.j),this.s=e.s,this.g=e.g,Kr(this,e.m),this.l=e.l;var t=e.i,n=new ra;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Wr(this,n),this.o=e.o}else e&&(t=String(e).match(Br))?(this.h=!1,$r(this,t[1]||"",!0),this.s=Xr(t[2]||""),this.g=Xr(t[3]||"",!0),Kr(this,t[4]),this.l=Xr(t[5]||"",!0),Wr(this,t[6]||"",!0),this.o=Xr(t[7]||"")):(this.h=!1,this.i=new ra(null,this.h))}function Hr(e){return new Gr(e)}function $r(e,t,n){e.j=n?Xr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Wr(e,t,n){t instanceof ra?(e.i=t,function(e,t){t&&!e.j&&(aa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(oa(this,t),ca(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Yr(t,ia)),e.i=new ra(t,e.h))}function Jr(e,t,n){e.i.set(t,n)}function Qr(e){return Jr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yr(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Zr),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zr(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gr.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yr(t,ea,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Yr(t,ea,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yr(n,"/"==n.charAt(0)?na:ta,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yr(n,sa)),e.join("")};var ea=/[#\/\?@]/g,ta=/[#\?:]/g,na=/[#\?]/g,ia=/[#\?@]/g,sa=/#/g;function ra(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function aa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function oa(e,t){aa(e),t=ua(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function la(e,t){return aa(e),t=ua(e,t),e.g.has(t)}function ca(e,t,n){oa(e,t),0<n.length&&(e.i=null,e.g.set(ua(e,t),Bi(n)),e.h+=n.length)}function ua(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Si=ra.prototype).add=function(e,t){aa(this),this.i=null,e=ua(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Si.forEach=function(e,t){aa(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},Si.ta=function(){aa(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let e=0;e<s.length;e++)n.push(t[i])}return n},Si.Z=function(e){aa(this);let t=[];if("string"==typeof e)la(this,e)&&(t=t.concat(this.g.get(ua(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Si.set=function(e,t){return aa(this),this.i=null,la(this,e=ua(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Si.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Si.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var s=r;""!==a[i]&&(s+="="+encodeURIComponent(String(a[i]))),e.push(s)}}return this.i=e.join("&")};var ha=class{constructor(e,t){this.g=e,this.map=t}};function da(e){this.l=e||pa,e=Di.PerformanceNavigationTiming?0<(e=Di.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Di.g&&Di.g.Ka&&Di.g.Ka()&&Di.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pa=10;function ma(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fa(e){return e.h?1:e.g?e.g.size:0}function ga(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function va(e,t){e.g?e.g.add(t):e.h=t}function ya(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ba(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bi(e.i)}da.prototype.cancel=function(){if(this.i=ba(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var wa=class{stringify(e){return Di.JSON.stringify(e,void 0)}parse(e){return Di.JSON.parse(e,void 0)}};function Ea(){this.g=new wa}function Ca(e,t,n){const i=n||"";try{zr(e,(function(e,n){let s=e;Oi(e)&&(s=Fs(e)),t.push(i+n+"="+encodeURIComponent(s))}))}catch(e){throw t.push(i+"type="+encodeURIComponent("_badmap")),e}}function _a(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch(e){}}function Ia(e){this.l=e.ec||null,this.j=e.ob||!1}function Ta(e,t){xs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Aa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vi(Ia,yr),Ia.prototype.g=function(){return new Ta(this.l,this.j)},Ia.prototype.i=function(e){return function(){return e}}({}),Vi(Ta,xs);var Aa=0;function Sa(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ka(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Na(e)}function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Si=Ta.prototype).open=function(e,t){if(this.readyState!=Aa)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Na(this)},Si.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Di).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Si.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ka(this)),this.readyState=Aa},Si.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Di.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sa(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Si.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ka(this):Na(this),3==this.readyState&&Sa(this)}},Si.Za=function(e){this.g&&(this.response=this.responseText=e,ka(this))},Si.Ya=function(e){this.g&&(this.response=e,ka(this))},Si.ka=function(){this.g&&ka(this)},Si.setRequestHeader=function(e,t){this.v.append(e,t)},Si.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Si.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ra=Di.JSON.parse;function Da(e){xs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pa,this.L=this.M=!1}Vi(Da,xs);var Pa="",Oa=/^https?$/i,La=["POST","PUT"];function Ma(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,xa(e),ja(e)}function xa(e){e.F||(e.F=!0,Us(e,"complete"),Us(e,"error"))}function Ua(e){if(e.h&&void 0!==Ri&&(!e.C[1]||4!=Va(e)||2!=e.da()))if(e.v&&4==Va(e))Ys(e.La,0,e);else if(Us(e,"readystatechange"),4==Va(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===a){var s=String(e.I).match(Br)[1]||null;!s&&Di.self&&Di.self.location&&(s=Di.self.location.protocol.slice(0,-1)),i=!Oa.test(s?s.toLowerCase():"")}n=i}if(n)Us(e,"complete"),Us(e,"success");else{e.m=6;try{var r=2<Va(e)?e.g.statusText:""}catch(e){r=""}e.j=r+" ["+e.da()+"]",xa(e)}}finally{ja(e)}}}function ja(e,t){if(e.g){Fa(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Us(e,"ready");try{n.onreadystatechange=i}catch(e){}}}function Fa(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Di.clearTimeout(e.A),e.A=null)}function Va(e){return e.g?e.g.readyState:0}function qa(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Pa:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function za(e){let t="";return vs(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ba(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=za(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Jr(e,t,n))}function Ga(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ha(e){this.Ga=0,this.j=[],this.l=new rr,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ga("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ga("baseRetryDelayMs",5e3,e),this.hb=Ga("retryDelaySeedMs",1e4,e),this.eb=Ga("forwardChannelMaxRetries",2,e),this.xa=Ga("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new da(e&&e.concurrentRequestLimit),this.Ja=new Ea,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function $a(e){if(Wa(e),3==e.H){var t=e.W++,n=Hr(e.I);if(Jr(n,"SID",e.K),Jr(n,"RID",t),Jr(n,"TYPE","terminate"),Xa(e,n),(t=new Ar(e,e.l,t)).L=2,t.v=Qr(Hr(n)),n=!1,Di.navigator&&Di.navigator.sendBeacon)try{n=Di.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&Di.Image&&((new Image).src=t.v,n=!0),n||(t.g=co(t.l,null),t.g.ha(t.v)),t.G=Date.now(),xr(t)}oo(e)}function Ka(e){e.g&&(to(e),e.g.cancel(),e.g=null)}function Wa(e){Ka(e),e.u&&(Di.clearTimeout(e.u),e.u=null),io(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Di.clearTimeout(e.m),e.m=null)}function Ja(e){if(!ma(e.i)&&!e.m){e.m=!0;var t=e.Na;Hs||Ws(),$s||(Hs(),$s=!0),Ks.add(t,e),e.C=0}}function Qa(e,t){var n;n=t?t.m:e.W++;const i=Hr(e.I);Jr(i,"SID",e.K),Jr(i,"RID",n),Jr(i,"AID",e.V),Xa(e,i),e.o&&e.s&&Ba(i,e.o,e.s),n=new Ar(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ya(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),va(e.i,n),Dr(n,i,t)}function Xa(e,t){e.na&&vs(e.na,(function(e,n){Jr(t,n,e)})),e.h&&zr({},(function(e,n){Jr(t,n,e)}))}function Ya(e,t,n){n=Math.min(e.j.length,n);var i=e.h?ji(e.h.Va,e.h,e):null;e:{var s=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let r=!0;for(let a=0;a<n;a++){let n=s[a].g;const o=s[a].map;if(n-=t,0>n)t=Math.max(0,s[a].g-100),r=!1;else try{Ca(o,e,"req"+n+"_")}catch(e){i&&i(o)}}if(r){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}function Za(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Hs||Ws(),$s||(Hs(),$s=!0),Ks.add(t,e),e.A=0}}function eo(e){return!(e.g||e.u||3<=e.A||(e.ba++,e.u=fr(ji(e.Ma,e),ro(e,e.A)),e.A++,0))}function to(e){null!=e.B&&(Di.clearTimeout(e.B),e.B=null)}function no(e){e.g=new Ar(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Hr(e.wa);Jr(t,"RID","rpc"),Jr(t,"SID",e.K),Jr(t,"AID",e.V),Jr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Jr(t,"TO",e.qa),Jr(t,"TYPE","xmlhttp"),Xa(e,t),e.o&&e.s&&Ba(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Qr(Hr(t)),n.s=null,n.S=!0,Pr(n,e)}function io(e){null!=e.v&&(Di.clearTimeout(e.v),e.v=null)}function so(e,t){var n=null;if(e.g==t){io(e),to(e),e.g=null;var i=2}else{if(!ga(e.i,t))return;n=t.F,ya(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;Us(i=cr(),new mr(i,n)),Ja(e)}else Za(e);else if(3==(s=t.o)||0==s&&0<t.ca||!(1==i&&function(e,t){return!(fa(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=fr(ji(e.Na,e,t),ro(e,e.C)),e.C++,0)))}(e,t)||2==i&&eo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:ao(e,5);break;case 4:ao(e,10);break;case 3:ao(e,6);break;default:ao(e,2)}}function ro(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ao(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=ji(e.pb,e);n||(n=new Gr("//www.google.com/images/cleardot.gif"),Di.location&&"http"==Di.location.protocol||$r(n,"https"),Qr(n)),function(e,t){const n=new rr;if(Di.Image){const i=new Image;i.onload=Fi(_a,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Fi(_a,n,i,"TestLoadImage: error",!1,t),i.onabort=Fi(_a,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Fi(_a,n,i,"TestLoadImage: timeout",!1,t),Di.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else pr(2);e.H=0,e.h&&e.h.za(t),oo(e),Wa(e)}function oo(e){if(e.H=0,e.ma=[],e.h){const t=ba(e.i);0==t.length&&0==e.j.length||(Gi(e.ma,t),Gi(e.ma,e.j),e.i.i.length=0,Bi(e.j),e.j.length=0),e.h.ya()}}function lo(e,t,n){var i=n instanceof Gr?Hr(n):new Gr(n);if(""!=i.g)t&&(i.g=t+"."+i.g),Kr(i,i.m);else{var s=Di.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new Gr(null);i&&$r(r,i),t&&(r.g=t),s&&Kr(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Jr(i,n,t),Jr(i,"VER",e.ra),Xa(e,i),i}function co(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Da(new Ia({ob:!0})):new Da(e.va)).Oa(e.J),t}function uo(){}function ho(){if(ts&&!(10<=Number(us)))throw Error("Environmental error: no available transport.")}function po(e,t){xs.call(this),this.g=new Ha(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ki(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ki(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new go(this)}function mo(e){_r.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fo(){Ir.call(this),this.status=1}function go(e){this.g=e}function vo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yo(e,t,n){n||(n=0);var i=Array(16);if("string"==typeof t)for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],a=t+(r^n&(s^r))+i[0]+3614090360&4294967295;a=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=(n=(s=(r=(t=n+(a<<7&4294967295|a>>>25))+((a=r+(s^t&(n^s))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^r&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(r^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^n&(s^r))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=r+(s^t&(n^s))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^r&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(r^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^n&(s^r))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=r+(s^t&(n^s))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^r&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(r^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^n&(s^r))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=r+(s^t&(n^s))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=s+(n^r&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^s&(r^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^r&(n^s))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=r+(n^s&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(r^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(r^t&(s^r))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^r&(n^s))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=r+(n^s&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(r^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(r^t&(s^r))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^r&(n^s))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=r+(n^s&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(r^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(r^t&(s^r))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(s^r&(n^s))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=r+(n^s&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=s+(t^n&(r^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(r^t&(s^r))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^s^r)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^n^s)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=s+(r^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^r^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^r)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^n^s)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=s+(r^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^r^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^r)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^n^s)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=s+(r^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^r^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^s^r)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=r+(t^n^s)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=s+(r^t^n)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(s^r^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(s^(n|~r))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=r+(n^(t|~s))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(r|~n))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(r^(s|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~r))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=r+(n^(t|~s))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(r|~n))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(r^(s|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(s^(n|~r))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=r+(n^(t|~s))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=s+(t^(r|~n))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(r^(s|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((r=(t=n+((a=t+(s^(n|~r))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=r+(n^(t|~s))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((s=r+((a=s+(t^(r|~n))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}function bo(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=0|e[s];i&&r==t||(n[s]=r,i=!1)}this.g=n}(Si=Da.prototype).Oa=function(e){this.M=e},Si.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Er.g(),this.C=this.u?br(this.u):br(Er),this.g.onreadystatechange=ji(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void Ma(this,e)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=Di.FormData&&e instanceof Di.FormData,!(0<=zi(La,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fa(this),0<this.B&&((this.L=function(e){return ts&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ji(this.ua,this)):this.A=Ys(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Ma(this,e)}},Si.ua=function(){void 0!==Ri&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Us(this,"timeout"),this.abort(8))},Si.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Us(this,"complete"),Us(this,"abort"),ja(this))},Si.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ja(this,!0)),Da.$.N.call(this)},Si.La=function(){this.s||(this.G||this.v||this.l?Ua(this):this.kb())},Si.kb=function(){Ua(this)},Si.isActive=function(){return!!this.g},Si.da=function(){try{return 2<Va(this)?this.g.status:-1}catch(e){return-1}},Si.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},Si.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ra(t)}},Si.Ia=function(){return this.m},Si.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Si=Ha.prototype).ra=8,Si.H=1,Si.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new Ar(this,this.l,e);let r=this.s;if(this.U&&(r?(r=ys(r),ws(r,this.U)):r=this.U),null!==this.o||this.O||(s.I=r,r=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ya(this,s,t),Jr(n=Hr(this.I),"RID",e),Jr(n,"CVER",22),this.F&&Jr(n,"X-HTTP-Session-Id",this.F),Xa(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(za(r)))+"&"+t:this.o&&Ba(n,this.o,r)),va(this.i,s),this.bb&&Jr(n,"TYPE","init"),this.P?(Jr(n,"$req",t),Jr(n,"SID","null"),s.aa=!0,Dr(s,n,null)):Dr(s,n,t),this.H=2}}else 3==this.H&&(e?Qa(this,e):0==this.j.length||ma(this.i)||Qa(this))},Si.Ma=function(){if(this.u=null,no(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fr(ji(this.jb,this),e)}},Si.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pr(10),Ka(this),no(this))},Si.ib=function(){null!=this.v&&(this.v=null,Ka(this),eo(this),pr(19))},Si.pb=function(e){e?(this.l.info("Successfully pinged google.com"),pr(2)):(this.l.info("Failed to ping google.com"),pr(1))},Si.isActive=function(){return!!this.h&&this.h.isActive(this)},(Si=uo.prototype).Ba=function(){},Si.Aa=function(){},Si.za=function(){},Si.ya=function(){},Si.isActive=function(){return!0},Si.Va=function(){},ho.prototype.g=function(e,t){return new po(e,t)},Vi(po,xs),po.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;pr(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=lo(e,null,e.Y),Ja(e)},po.prototype.close=function(){$a(this.g)},po.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fs(e),e=n);t.j.push(new ha(t.fb++,e)),3==t.H&&Ja(t)},po.prototype.N=function(){this.g.h=null,delete this.j,$a(this.g),delete this.g,po.$.N.call(this)},Vi(mo,_r),Vi(fo,Ir),Vi(go,uo),go.prototype.Ba=function(){Us(this.g,"a")},go.prototype.Aa=function(e){Us(this.g,new mo(e))},go.prototype.za=function(e){Us(this.g,new fo)},go.prototype.ya=function(){Us(this.g,"b")},Vi(vo,(function(){this.blockSize=-1})),vo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},vo.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(0==s)for(;r<=n;)yo(this,e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){yo(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){yo(this,i),s=0;break}}this.h=s,this.i+=t},vo.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var wo={};function Eo(e){return-128<=e&&128>e?function(e,t){var n=wo;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new bo([0|e],0>e?-1:0)}(e)}(e):new bo([0|e],0>e?-1:0)}function Co(e){if(isNaN(e)||!isFinite(e))return Io;if(0>e)return No(Co(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=_o;return new bo(t,0)}var _o=4294967296,Io=Eo(0),To=Eo(1),Ao=Eo(16777216);function So(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ko(e){return-1==e.h}function No(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new bo(n,~e.h).add(To)}function Ro(e,t){return e.add(No(t))}function Do(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Po(e,t){this.g=e,this.h=t}function Oo(e,t){if(So(t))throw Error("division by zero");if(So(e))return new Po(Io,Io);if(ko(e))return t=Oo(No(e),t),new Po(No(t.g),No(t.h));if(ko(t))return t=Oo(e,No(t)),new Po(No(t.g),t.h);if(30<e.g.length){if(ko(e)||ko(t))throw Error("slowDivide_ only works with positive integers.");for(var n=To,i=t;0>=i.X(e);)n=Lo(n),i=Lo(i);var s=Mo(n,1),r=Mo(i,1);for(i=Mo(i,2),n=Mo(n,2);!So(i);){var a=r.add(i);0>=a.X(e)&&(s=s.add(n),r=a),i=Mo(i,1),n=Mo(n,1)}return t=Ro(e,s.R(t)),new Po(s,t)}for(s=Io;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),a=(r=Co(n)).R(t);ko(a)||0<a.X(e);)a=(r=Co(n-=i)).R(t);So(r)&&(r=To),s=s.add(r),e=Ro(e,a)}return new Po(s,e)}function Lo(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new bo(n,e.h)}function Mo(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new bo(s,e.h)}(Si=bo.prototype).ea=function(){if(ko(this))return-No(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:_o+i)*t,t*=_o}return e},Si.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(So(this))return"0";if(ko(this))return"-"+No(this).toString(e);for(var t=Co(Math.pow(e,6)),n=this,i="";;){var s=Oo(n,t).g,r=((0<(n=Ro(n,s.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(So(n=s))return r+i;for(;6>r.length;)r="0"+r;i=r+i}},Si.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Si.X=function(e){return ko(e=Ro(this,e))?-1:So(e)?0:1},Si.abs=function(){return ko(this)?No(this):this},Si.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(65535&this.D(s))+(65535&e.D(s)),a=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=a>>>16,r&=65535,a&=65535,n[s]=a<<16|r}return new bo(n,-2147483648&n[n.length-1]?-1:0)},Si.R=function(e){if(So(this)||So(e))return Io;if(ko(this))return ko(e)?No(this).R(No(e)):No(No(this).R(e));if(ko(e))return No(this.R(No(e)));if(0>this.X(Ao)&&0>e.X(Ao))return Co(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,a=65535&this.D(i),o=e.D(s)>>>16,l=65535&e.D(s);n[2*i+2*s]+=a*l,Do(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Do(n,2*i+2*s+1),n[2*i+2*s+1]+=a*o,Do(n,2*i+2*s+1),n[2*i+2*s+2]+=r*o,Do(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new bo(n,0)},Si.gb=function(e){return Oo(this,e).h},Si.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new bo(n,this.h&e.h)},Si.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new bo(n,this.h|e.h)},Si.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new bo(n,this.h^e.h)},ho.prototype.createWebChannel=ho.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,vr.COMPLETE="complete",wr.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",xs.prototype.listen=xs.prototype.O,Da.prototype.listenOnce=Da.prototype.P,Da.prototype.getLastError=Da.prototype.Sa,Da.prototype.getLastErrorCode=Da.prototype.Ia,Da.prototype.getStatus=Da.prototype.da,Da.prototype.getResponseJson=Da.prototype.Wa,Da.prototype.getResponseText=Da.prototype.ja,Da.prototype.send=Da.prototype.ha,Da.prototype.setWithCredentials=Da.prototype.Oa,vo.prototype.digest=vo.prototype.l,vo.prototype.reset=vo.prototype.reset,vo.prototype.update=vo.prototype.j,bo.prototype.add=bo.prototype.add,bo.prototype.multiply=bo.prototype.R,bo.prototype.modulo=bo.prototype.gb,bo.prototype.compare=bo.prototype.X,bo.prototype.toNumber=bo.prototype.ea,bo.prototype.toString=bo.prototype.toString,bo.prototype.getBits=bo.prototype.D,bo.fromNumber=Co,bo.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return No(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=Co(Math.pow(n,8)),s=Io,r=0;r<t.length;r+=8){var a=Math.min(8,t.length-r),o=parseInt(t.substring(r,r+a),n);8>a?(a=Co(Math.pow(n,a)),s=s.R(a).add(Co(o))):s=(s=s.R(i)).add(Co(o))}return s};var xo=Ni.createWebChannelTransport=function(){return new ho},Uo=Ni.getStatEventTarget=function(){return cr()},jo=Ni.ErrorCode=gr,Fo=Ni.EventType=vr,Vo=Ni.Event=or,qo=Ni.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zo=Ni.FetchXmlHttpFactory=Ia,Bo=Ni.WebChannel=wr,Go=Ni.XhrIo=Da,Ho=(Ni.Md5=vo,Ni.Integer=bo);const $o="@firebase/firestore";class Ko{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ko.UNAUTHENTICATED=new Ko(null),Ko.GOOGLE_CREDENTIALS=new Ko("google-credentials-uid"),Ko.FIRST_PARTY=new Ko("first-party-uid"),Ko.MOCK_USER=new Ko("mock-user");let Wo="10.5.2";const Jo=new L("@firebase/firestore");function Qo(){return Jo.logLevel}function Xo(e,...t){if(Jo.logLevel<=k.DEBUG){const n=t.map(el);Jo.debug(`Firestore (${Wo}): ${e}`,...n)}}function Yo(e,...t){if(Jo.logLevel<=k.ERROR){const n=t.map(el);Jo.error(`Firestore (${Wo}): ${e}`,...n)}}function Zo(e,...t){if(Jo.logLevel<=k.WARN){const n=t.map(el);Jo.warn(`Firestore (${Wo}): ${e}`,...n)}}function el(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function tl(e="Unexpected state"){const t=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+e;throw Yo(t),new Error(t)}function nl(e,t){e||tl()}function il(e,t){return e}const sl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rl extends d{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class al{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ol{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ll{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ko.UNAUTHENTICATED)))}shutdown(){}}class cl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ul{constructor(e){this.t=e,this.currentUser=Ko.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new al;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new al,e.enqueueRetryable((()=>i(this.currentUser)))};const r=()=>{const t=s;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},a=e=>{Xo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Xo("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new al)}}),0),r()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Xo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(nl("string"==typeof t.accessToken),new ol(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return nl(null===e||"string"==typeof e),new Ko(e)}}class hl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ko.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class dl{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new hl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ko.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pl{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ml{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Xo("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Xo("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{Xo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?i(e):Xo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(nl("string"==typeof e.token),this.R=e.token,new pl(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fl(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class gl{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=fl(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function vl(e,t){return e<t?-1:e>t?1:0}function yl(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class bl{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rl(sl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rl(sl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rl(sl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rl(sl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bl.fromMillis(Date.now())}static fromDate(e){return bl.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new bl(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vl(this.nanoseconds,e.nanoseconds):vl(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wl{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wl(e)}static min(){return new wl(new bl(0,0))}static max(){return new wl(new bl(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class El{constructor(e,t,n){void 0===t?t=0:t>e.length&&tl(),void 0===n?n=e.length-t:n>e.length-t&&tl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===El.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof El?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),s=t.get(i);if(n<s)return-1;if(n>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cl extends El{construct(e,t,n){return new Cl(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new rl(sl.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Cl(t)}static emptyPath(){return new Cl([])}}const _l=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Il extends El{construct(e,t,n){return new Il(e,t,n)}static isValidIdentifier(e){return _l.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Il.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Il(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(0===n.length)throw new rl(sl.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let r=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new rl(sl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rl(sl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(r=!r,i++):"."!==t||r?(n+=t,i++):(s(),i++)}if(s(),r)throw new rl(sl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Il(t)}static emptyPath(){return new Il([])}}class Tl{constructor(e){this.path=e}static fromPath(e){return new Tl(Cl.fromString(e))}static fromName(e){return new Tl(Cl.fromString(e).popFirst(5))}static empty(){return new Tl(Cl.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cl.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cl.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Tl(new Cl(e.slice()))}}function Al(e){return new Sl(e.readTime,e.key,-1)}class Sl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Sl(wl.min(),Tl.empty(),-1)}static max(){return new Sl(wl.max(),Tl.empty(),-1)}}function kl(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Tl.comparator(e.documentKey,t.documentKey),0!==n?n:vl(e.largestBatchId,t.largestBatchId))}const Nl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Rl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dl(e){if(e.code!==sl.FAILED_PRECONDITION||e.message!==Nl)throw e;Xo("LocalStore","Unexpectedly lost primary lease")}class Pl{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&tl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Pl(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Pl?t:Pl.resolve(t)}catch(e){return Pl.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Pl.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Pl.reject(t)}static resolve(e){return new Pl(((t,n)=>{t(e)}))}static reject(e){return new Pl(((t,n)=>{n(e)}))}static waitFor(e){return new Pl(((t,n)=>{let i=0,s=0,r=!1;e.forEach((e=>{++i,e.next((()=>{++s,r&&s===i&&t()}),(e=>n(e)))})),r=!0,s===i&&t()}))}static or(e){let t=Pl.resolve(!1);for(const n of e)t=t.next((e=>e?Pl.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new Pl(((n,i)=>{const s=e.length,r=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next((e=>{r[l]=e,++a,a===s&&n(r)}),(e=>i(e)))}}))}static doWhile(e,t){return new Pl(((n,i)=>{const s=()=>{!0===e()?t().next((()=>{s()}),i):n()};s()}))}}function Ol(e){return"IndexedDbTransactionError"===e.name}class Ll{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Ml(e){return null==e}function xl(e){return 0===e&&1/e==-1/0}Ll._e=-1;function Ul(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function jl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Fl(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Vl{constructor(e,t){this.comparator=e,this.root=t||zl.EMPTY}insert(e,t){return new Vl(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zl.BLACK,null,null))}remove(e){return new Vl(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ql(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ql(this.root,e,this.comparator,!1)}getReverseIterator(){return new ql(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ql(this.root,e,this.comparator,!0)}}class ql{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zl{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=null!=n?n:zl.RED,this.left=null!=i?i:zl.EMPTY,this.right=null!=s?s:zl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new zl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return zl.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tl();if(this.right.isRed())throw tl();const e=this.left.check();if(e!==this.right.check())throw tl();return e+(this.isRed()?0:1)}}zl.EMPTY=null,zl.RED=!0,zl.BLACK=!1,zl.EMPTY=new class{constructor(){this.size=0}get key(){throw tl()}get value(){throw tl()}get color(){throw tl()}get left(){throw tl()}get right(){throw tl()}copy(e,t,n,i,s){return this}insert(e,t,n){return new zl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bl{constructor(e){this.comparator=e,this.data=new Vl(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gl(this.data.getIterator())}getIteratorFrom(e){return new Gl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Bl))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bl(this.comparator);return t.data=e,t}}class Gl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Hl{constructor(e){this.fields=e,e.sort(Il.comparator)}static empty(){return new Hl([])}unionWith(e){let t=new Bl(Il.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Hl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $l extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $l("Invalid base64 string: "+e):e}}(e);return new Kl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Kl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vl(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kl.EMPTY_BYTE_STRING=new Kl("");const Wl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jl(e){if(nl(!!e),"string"==typeof e){let t=0;const n=Wl.exec(e);if(nl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ql(e.seconds),nanos:Ql(e.nanos)}}function Ql(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Xl(e){return"string"==typeof e?Kl.fromBase64String(e):Kl.fromUint8Array(e)}function Yl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zl(e){const t=e.mapValue.fields.__previous_value__;return Yl(t)?Zl(t):t}function ec(e){const t=Jl(e.mapValue.fields.__local_write_time__.timestampValue);return new bl(t.seconds,t.nanos)}class tc{constructor(e,t,n,i,s,r,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=r,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yl(e)?4:fc(e)?9007199254740991:10:tl()}function rc(e,t){if(e===t)return!0;const n=sc(e);if(n!==sc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ec(e).isEqual(ec(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Jl(e.timestampValue),i=Jl(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Xl(e.bytesValue).isEqual(Xl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ql(e.geoPointValue.latitude)===Ql(t.geoPointValue.latitude)&&Ql(e.geoPointValue.longitude)===Ql(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ql(e.integerValue)===Ql(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ql(e.doubleValue),i=Ql(t.doubleValue);return n===i?xl(n)===xl(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return yl(e.arrayValue.values||[],t.arrayValue.values||[],rc);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Ul(n)!==Ul(i))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===i[e]||!rc(n[e],i[e])))return!1;return!0}(e,t);default:return tl()}}function ac(e,t){return void 0!==(e.values||[]).find((e=>rc(e,t)))}function oc(e,t){if(e===t)return 0;const n=sc(e),i=sc(t);if(n!==i)return vl(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return vl(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ql(e.integerValue||e.doubleValue),i=Ql(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return lc(e.timestampValue,t.timestampValue);case 4:return lc(ec(e),ec(t));case 5:return vl(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Xl(e),i=Xl(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let e=0;e<n.length&&e<i.length;e++){const t=vl(n[e],i[e]);if(0!==t)return t}return vl(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=vl(Ql(e.latitude),Ql(t.latitude));return 0!==n?n:vl(Ql(e.longitude),Ql(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let e=0;e<n.length&&e<i.length;++e){const t=oc(n[e],i[e]);if(t)return t}return vl(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ic.mapValue&&t===ic.mapValue)return 0;if(e===ic.mapValue)return 1;if(t===ic.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),s=t.fields||{},r=Object.keys(s);i.sort(),r.sort();for(let e=0;e<i.length&&e<r.length;++e){const t=vl(i[e],r[e]);if(0!==t)return t;const a=oc(n[i[e]],s[r[e]]);if(0!==a)return a}return vl(i.length,r.length)}(e.mapValue,t.mapValue);default:throw tl()}}function lc(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return vl(e,t);const n=Jl(e),i=Jl(t),s=vl(n.seconds,i.seconds);return 0!==s?s:vl(n.nanos,i.nanos)}function cc(e){return uc(e)}function uc(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Jl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Xl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Tl.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=uc(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const s of t)i?i=!1:n+=",",n+=`${s}:${uc(e.fields[s])}`;return n+"}"}(e.mapValue):tl()}function hc(e){return!!e&&"integerValue"in e}function dc(e){return!!e&&"arrayValue"in e}function pc(e){return!!e&&"mapValue"in e}function mc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return jl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=mc(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=mc(e.arrayValue.values[n]);return t}return Object.assign({},e)}function fc(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class gc{constructor(e){this.value=e}static empty(){return new gc({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mc(t)}setAll(e){let t=Il.emptyPath(),n={},i=[];e.forEach(((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=s.popLast()}e?n[s.lastSegment()]=mc(e):i.push(s.lastSegment())}));const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return rc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];pc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){jl(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new gc(mc(this.value))}}function vc(e){const t=[];return jl(e.fields,((e,n)=>{const i=new Il([e]);if(pc(n)){const e=vc(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new Hl(t)}class yc{constructor(e,t,n,i,s,r,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=r,this.documentState=a}static newInvalidDocument(e){return new yc(e,0,wl.min(),wl.min(),wl.min(),gc.empty(),0)}static newFoundDocument(e,t,n,i){return new yc(e,1,t,wl.min(),n,i,0)}static newNoDocument(e,t){return new yc(e,2,t,wl.min(),wl.min(),gc.empty(),0)}static newUnknownDocument(e,t){return new yc(e,3,t,wl.min(),wl.min(),gc.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gc.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gc.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wl.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yc&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yc(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bc{constructor(e,t){this.position=e,this.inclusive=t}}function wc(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],a=e.position[s];if(i=r.field.isKeyField()?Tl.comparator(Tl.fromName(a.referenceValue),n.key):oc(a,n.data.field(r.field)),"desc"===r.dir&&(i*=-1),0!==i)break}return i}function Ec(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rc(e.position[n],t.position[n]))return!1;return!0}class Cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function _c(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ic{}class Tc extends Ic{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Pc(e,t,n):"array-contains"===t?new xc(e,n):"in"===t?new Uc(e,n):"not-in"===t?new jc(e,n):"array-contains-any"===t?new Fc(e,n):new Tc(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Oc(e,n):new Lc(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oc(t,this.value)):null!==t&&sc(this.value)===sc(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return tl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ac extends Ic{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ac(e,t)}matches(e){return Sc(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Sc(e){return"and"===e.op}function kc(e){return function(e){for(const t of e.filters)if(t instanceof Ac)return!1;return!0}(e)&&Sc(e)}function Nc(e){if(e instanceof Tc)return e.field.canonicalString()+e.op.toString()+cc(e.value);if(kc(e))return e.filters.map((e=>Nc(e))).join(",");{const t=e.filters.map((e=>Nc(e))).join(",");return`${e.op}(${t})`}}function Rc(e,t){return e instanceof Tc?function(e,t){return t instanceof Tc&&e.op===t.op&&e.field.isEqual(t.field)&&rc(e.value,t.value)}(e,t):e instanceof Ac?function(e,t){return t instanceof Ac&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&Rc(n,t.filters[i])),!0)}(e,t):void tl()}function Dc(e){return e instanceof Tc?function(e){return`${e.field.canonicalString()} ${e.op} ${cc(e.value)}`}(e):e instanceof Ac?function(e){return e.op.toString()+" {"+e.getFilters().map(Dc).join(" ,")+"}"}(e):"Filter"}class Pc extends Tc{constructor(e,t,n){super(e,t,n),this.key=Tl.fromName(n.referenceValue)}matches(e){const t=Tl.comparator(e.key,this.key);return this.matchesComparison(t)}}class Oc extends Tc{constructor(e,t){super(e,"in",t),this.keys=Mc(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Lc extends Tc{constructor(e,t){super(e,"not-in",t),this.keys=Mc(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Tl.fromName(e.referenceValue)))}class xc extends Tc{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dc(t)&&ac(t.arrayValue,this.value)}}class Uc extends Tc{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ac(this.value.arrayValue,t)}}class jc extends Tc{constructor(e,t){super(e,"not-in",t)}matches(e){if(ac(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ac(this.value.arrayValue,t)}}class Fc extends Tc{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ac(this.value.arrayValue,e)))}}class Vc{constructor(e,t=null,n=[],i=[],s=null,r=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=r,this.endAt=a,this.ce=null}}function qc(e,t=null,n=[],i=[],s=null,r=null,a=null){return new Vc(e,t,n,i,s,r,a)}function zc(e){const t=il(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Nc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ml(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>cc(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>cc(e))).join(",")),t.ce=e}return t.ce}function Bc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_c(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Rc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ec(e.startAt,t.startAt)&&Ec(e.endAt,t.endAt)}class Gc{constructor(e,t=null,n=[],i=[],s=null,r="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=r,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Hc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function $c(e){const t=il(e);if(null===t.le){t.le=[];const e=new Set;for(const n of t.explicitOrderBy)t.le.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new Bl(Il.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.le.push(new Cc(i,n))})),e.has(Il.keyField().canonicalString())||t.le.push(new Cc(Il.keyField(),n))}return t.le}function Kc(e){const t=il(e);return t.he||(t.he=function(e,t){if("F"===e.limitType)return qc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Cc(e.field,t)}));const n=e.endAt?new bc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new bc(e.startAt.position,e.startAt.inclusive):null;return qc(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}(t,$c(e))),t.he}function Wc(e,t,n){return new Gc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Jc(e,t){return Bc(Kc(e),Kc(t))&&e.limitType===t.limitType}function Qc(e){return`${zc(Kc(e))}|lt:${e.limitType}`}function Xc(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Dc(e))).join(", ")}]`),Ml(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>cc(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>cc(e))).join(",")),`Target(${t})`}(Kc(e))}; limitType=${e.limitType})`}function Yc(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Tl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $c(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=wc(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,$c(e),t)||e.endAt&&!function(e,t,n){const i=wc(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,$c(e),t))}(e,t)}function Zc(e,t,n){const i=e.field.isKeyField()?Tl.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),s=n.data.field(e);return null!==i&&null!==s?oc(i,s):tl()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return tl()}}class eu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,i]of n)if(this.equalsFn(t,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<i.length;n++)if(this.equalsFn(i[n][0],e))return void(i[n]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jl(this.inner,((t,n)=>{for(const[t,i]of n)e(t,i)}))}isEmpty(){return Fl(this.inner)}size(){return this.innerSize}}const tu=new Vl(Tl.comparator);function nu(){return tu}const iu=new Vl(Tl.comparator);function su(...e){let t=iu;for(const n of e)t=t.insert(n.key,n);return t}function ru(e){let t=iu;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function au(){return lu()}function ou(){return lu()}function lu(){return new eu((e=>e.toString()),((e,t)=>e.isEqual(t)))}const cu=new Vl(Tl.comparator),uu=new Bl(Tl.comparator);function hu(...e){let t=uu;for(const n of e)t=t.add(n);return t}const du=new Bl(vl);function pu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xl(t)?"-0":t}}function mu(e){return{integerValue:""+e}}function fu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!xl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?mu(t):pu(e,t)}class gu{constructor(){this._=void 0}}function vu(e,t,n){return e instanceof wu?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Yl(t)&&(t=Zl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Eu?Cu(e,t):e instanceof _u?Iu(e,t):function(e,t){const n=bu(e,t),i=Au(n)+Au(e.Ie);return hc(n)&&hc(e.Ie)?mu(i):pu(e.serializer,i)}(e,t)}function yu(e,t,n){return e instanceof Eu?Cu(e,t):e instanceof _u?Iu(e,t):n}function bu(e,t){return e instanceof Tu?function(e){return hc(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class wu extends gu{}class Eu extends gu{constructor(e){super(),this.elements=e}}function Cu(e,t){const n=Su(t);for(const t of e.elements)n.some((e=>rc(e,t)))||n.push(t);return{arrayValue:{values:n}}}class _u extends gu{constructor(e){super(),this.elements=e}}function Iu(e,t){let n=Su(t);for(const t of e.elements)n=n.filter((e=>!rc(e,t)));return{arrayValue:{values:n}}}class Tu extends gu{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Au(e){return Ql(e.integerValue||e.doubleValue)}function Su(e){return dc(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class ku{constructor(e,t){this.version=e,this.transformResults=t}}class Nu{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nu}static exists(e){return new Nu(void 0,e)}static updateTime(e){return new Nu(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ru(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Du{}function Pu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zu(e.key,Nu.none()):new Uu(e.key,e.data,Nu.none());{const n=e.data,i=gc.empty();let s=new Bl(Il.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),s=s.add(e)}return new ju(e.key,i,new Hl(s.toArray()),Nu.none())}}function Ou(e,t,n){e instanceof Uu?function(e,t,n){const i=e.value.clone(),s=Vu(e.fieldTransforms,t,n.transformResults);i.setAll(s),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof ju?function(e,t,n){if(!Ru(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Vu(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Fu(e)),s.setAll(i),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Lu(e,t,n,i){return e instanceof Uu?function(e,t,n,i){if(!Ru(e.precondition,t))return n;const s=e.value.clone(),r=qu(e.fieldTransforms,i,t);return s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,i):e instanceof ju?function(e,t,n,i){if(!Ru(e.precondition,t))return n;const s=qu(e.fieldTransforms,i,t),r=t.data;return r.setAll(Fu(e)),r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return Ru(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Mu(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),s=bu(i.transform,e||null);null!=s&&(null===n&&(n=gc.empty()),n.set(i.field,s))}return n||null}function xu(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&yl(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eu&&t instanceof Eu||e instanceof _u&&t instanceof _u?yl(e.elements,t.elements,rc):e instanceof Tu&&t instanceof Tu?rc(e.Ie,t.Ie):e instanceof wu&&t instanceof wu}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uu extends Du{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ju extends Du{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Fu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Vu(e,t,n){const i=new Map;nl(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],a=r.transform,o=t.data.field(r.field);i.set(r.field,yu(a,o,n[s]))}return i}function qu(e,t,n){const i=new Map;for(const s of e){const e=s.transform,r=n.data.field(s.field);i.set(s.field,vu(e,r,t))}return i}class zu extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bu extends Du{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Gu{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const i=this.mutations[t];i.key.isEqual(e.key)&&Ou(i,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Lu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Lu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ou();return this.mutations.forEach((i=>{const s=e.get(i.key),r=s.overlayedDocument;let a=this.applyToLocalView(r,s.mutatedFields);a=t.has(i.key)?null:a;const o=Pu(r,a);null!==o&&n.set(i.key,o),r.isValidDocument()||r.convertToNoDocument(wl.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),hu())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((e,t)=>xu(e,t)))&&yl(this.baseMutations,e.baseMutations,((e,t)=>xu(e,t)))}}class Hu{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){nl(e.mutations.length===n.length);let i=cu;const s=e.mutations;for(let e=0;e<s.length;e++)i=i.insert(s[e].key,n[e].version);return new Hu(e,t,n,i)}}class $u{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}var Ku,Wu;(Wu=Ku||(Ku={}))[Wu.OK=0]="OK",Wu[Wu.CANCELLED=1]="CANCELLED",Wu[Wu.UNKNOWN=2]="UNKNOWN",Wu[Wu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wu[Wu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wu[Wu.NOT_FOUND=5]="NOT_FOUND",Wu[Wu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wu[Wu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wu[Wu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wu[Wu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wu[Wu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wu[Wu.ABORTED=10]="ABORTED",Wu[Wu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wu[Wu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wu[Wu.INTERNAL=13]="INTERNAL",Wu[Wu.UNAVAILABLE=14]="UNAVAILABLE",Wu[Wu.DATA_LOSS=15]="DATA_LOSS",new Ho([4294967295,4294967295],0),Error;class Ju{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Xu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Yu(e,t){return Qu(e,t.toTimestamp())}function Zu(e){return nl(!!e),wl.fromTimestamp(function(e){const t=Jl(e);return new bl(t.seconds,t.nanos)}(e))}function eh(e,t){return function(e){return new Cl(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function th(e,t){return eh(e.databaseId,t.path)}function nh(e){const t=function(e){const t=Cl.fromString(e);return nl(function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}(t)),t}(e);return 4===t.length?Cl.emptyPath():function(e){return nl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}(t)}function ih(e,t,n){return{name:th(e,t),fields:n.value.mapValue.fields}}function sh(e){let t=nh(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){nl(1===i);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let r=[];n.where&&(r=function(e){const t=rh(e);return t instanceof Ac&&kc(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Cc(ah(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ml(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new bc(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new bc(n,t)}(n.endAt)),function(e,t,n,i,s,r,a,o){return new Gc(e,t,n,i,s,r,a,o)}(t,s,a,r,o,"F",l,c)}function rh(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ah(e.unaryFilter.field);return Tc.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ah(e.unaryFilter.field);return Tc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ah(e.unaryFilter.field);return Tc.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ah(e.unaryFilter.field);return Tc.create(s,"!=",{nullValue:"NULL_VALUE"});default:return tl()}}(e):void 0!==e.fieldFilter?function(e){return Tc.create(ah(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ac.create(e.compositeFilter.filters.map((e=>rh(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return tl()}}(e.compositeFilter.op))}(e):tl()}function ah(e){return Il.fromServerFormat(e.fieldPath)}function oh(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}class lh{constructor(e){this.ut=e}}function ch(e){const t=sh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wc(t,t.limit,"L"):t}class uh{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Ql(e.integerValue));else if("doubleValue"in e){const n=Ql(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),xl(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt(`${n.seconds||""}`),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Xl(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?fc(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):tl()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const e of Object.keys(n))this.At(e,t),this.Pt(n[e],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const e of n)this.Pt(e,t)}ft(e,t){this.Tt(t,37),Tl.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}uh.St=new uh;class hh{constructor(){this.on=new dh}addToCollectionParentIndex(e,t){return this.on.add(t),Pl.resolve()}getCollectionParents(e,t){return Pl.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Pl.resolve()}deleteFieldIndex(e,t){return Pl.resolve()}deleteAllFieldIndexes(e){return Pl.resolve()}createTargetIndexes(e,t){return Pl.resolve()}getDocumentsMatchingTarget(e,t){return Pl.resolve(null)}getIndexType(e,t){return Pl.resolve(0)}getFieldIndexes(e,t){return Pl.resolve([])}getNextCollectionGroupToUpdate(e){return Pl.resolve(null)}getMinOffset(e,t){return Pl.resolve(Sl.min())}getMinOffsetFromCollectionGroup(e,t){return Pl.resolve(Sl.min())}updateCollectionGroup(e,t,n){return Pl.resolve()}updateIndexEntries(e,t){return Pl.resolve()}}class dh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Bl(Cl.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Bl(Cl.comparator)).toArray()}}new Uint8Array(0);class ph{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ph(e,ph.DEFAULT_COLLECTION_PERCENTILE,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ph.DEFAULT_COLLECTION_PERCENTILE=10,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ph.DEFAULT=new ph(41943040,ph.DEFAULT_COLLECTION_PERCENTILE,ph.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ph.DISABLED=new ph(-1,0,0);class mh{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new mh(0)}static Nn(){return new mh(-1)}}class fh{constructor(){this.changes=new eu((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yc.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Pl.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vh{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Lu(n.mutation,e,Hl.empty(),bl.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,hu()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=hu()){const i=au();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=su();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=au();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,hu())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let s=nu();const r=lu(),a=lu();return t.forEach(((e,t)=>{const a=n.get(t.key);i.has(t.key)&&(void 0===a||a.mutation instanceof ju)?s=s.insert(t.key,t):void 0!==a?(r.set(t.key,a.mutation.getFieldMask()),Lu(a.mutation,t,a.mutation.getFieldMask(),bl.now())):r.set(t.key,Hl.empty())})),this.recalculateAndSaveOverlays(e,s).next((e=>(e.forEach(((e,t)=>r.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new gh(t,null!==(n=r.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=lu();let i=new Vl(((e,t)=>e-t)),s=hu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const s of e)s.keys().forEach((e=>{const r=t.get(e);if(null===r)return;let a=n.get(e)||Hl.empty();a=s.applyToLocalView(r,a),n.set(e,a);const o=(i.get(s.batchId)||hu()).add(e);i=i.insert(s.batchId,o)}))})).next((()=>{const r=[],a=i.getReverseIterator();for(;a.hasNext();){const i=a.getNext(),o=i.key,l=i.value,c=ou();l.forEach((e=>{if(!s.has(e)){const i=Pu(t.get(e),n.get(e));null!==i&&c.set(e,i),s=s.add(e)}})),r.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Pl.waitFor(r)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return Tl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((s=>{const r=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):Pl.resolve(au());let a=-1,o=s;return r.next((t=>Pl.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Pl.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,s))).next((()=>this.computeViews(e,o,t,hu()))).next((e=>({batchId:a,changes:ru(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Tl(t)).next((e=>{let t=su();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let r=su();return this.indexManager.getCollectionParents(e,s).next((a=>Pl.forEach(a,(a=>{const o=function(e,t){return new Gc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next((e=>{e.forEach(((e,t)=>{r=r.insert(e,t)}))}))})).next((()=>r))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i)))).next((e=>{s.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,yc.newInvalidDocument(i)))}));let n=su();return e.forEach(((e,i)=>{const r=s.get(e);void 0!==r&&Lu(r.mutation,i,Hl.empty(),bl.now()),Yc(t,i)&&(n=n.insert(e,i))})),n}))}}class yh{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Pl.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Zu(e.createTime)}}(t)),Pl.resolve()}getNamedQuery(e,t){return Pl.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:ch(e.bundledQuery),readTime:Zu(e.readTime)}}(t)),Pl.resolve()}}class bh{constructor(){this.overlays=new Vl(Tl.comparator),this.lr=new Map}getOverlay(e,t){return Pl.resolve(this.overlays.get(t))}getOverlays(e,t){const n=au();return Pl.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.lt(e,t,i)})),Pl.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.lr.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Pl.resolve()}getOverlaysForCollection(e,t,n){const i=au(),s=t.length+1,r=new Tl(t.child("")),a=this.overlays.getIteratorFrom(r);for(;a.hasNext();){const e=a.getNext().value,r=e.getKey();if(!t.isPrefixOf(r.path))break;r.path.length===s&&e.largestBatchId>n&&i.set(e.getKey(),e)}return Pl.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Vl(((e,t)=>e-t));const r=this.overlays.getIterator();for(;r.hasNext();){const e=r.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=au(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=au(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=i)););return Pl.resolve(a)}lt(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new $u(t,n));let s=this.lr.get(t);void 0===s&&(s=hu(),this.lr.set(t,s)),this.lr.set(t,s.add(n.key))}}class wh{constructor(){this.hr=new Bl(Eh.Pr),this.Ir=new Bl(Eh.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Eh(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Eh(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Tl(new Cl([])),n=new Eh(t,e),i=new Eh(t,e+1),s=[];return this.Ir.forEachInRange([n,i],(e=>{this.dr(e),s.push(e.key)})),s}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Tl(new Cl([])),n=new Eh(t,e),i=new Eh(t,e+1);let s=hu();return this.Ir.forEachInRange([n,i],(e=>{s=s.add(e.key)})),s}containsKey(e){const t=new Eh(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Eh{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Tl.comparator(e.key,t.key)||vl(e.gr,t.gr)}static Tr(e,t){return vl(e.gr,t.gr)||Tl.comparator(e.key,t.key)}}class Ch{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Bl(Eh.Pr)}checkEmpty(e){return Pl.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const s=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const r=new Gu(s,t,n,i);this.mutationQueue.push(r);for(const t of i)this.yr=this.yr.add(new Eh(t.key,s)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Pl.resolve(r)}lookupMutationBatch(e,t){return Pl.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Sr(n),s=i<0?0:i;return Pl.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Pl.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Pl.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Eh(t,0),i=new Eh(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([n,i],(e=>{const t=this.wr(e.gr);s.push(t)})),Pl.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bl(vl);return t.forEach((e=>{const t=new Eh(e,0),i=new Eh(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,i],(e=>{n=n.add(e.gr)}))})),Pl.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;Tl.isDocumentKey(s)||(s=s.child(""));const r=new Eh(new Tl(s),0);let a=new Bl(vl);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.gr)),!0)}),r),Pl.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){nl(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Pl.forEach(t.mutations,(i=>{const s=new Eh(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Eh(t,0),i=this.yr.firstAfterOrEqual(n);return Pl.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Pl.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class _h{constructor(e){this.Cr=e,this.docs=new Vl(Tl.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,r=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:r}),this.size+=r-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Pl.resolve(n?n.document.mutableCopy():yc.newInvalidDocument(t))}getEntries(e,t){let n=nu();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yc.newInvalidDocument(e))})),Pl.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=nu();const r=t.path,a=new Tl(r.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!r.isPrefixOf(e.path))break;e.path.length>r.length+1||kl(Al(a),n)<=0||(i.has(a.key)||Yc(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Pl.resolve(s)}getAllFromCollectionGroup(e,t,n,i){tl()}vr(e,t){return Pl.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ih(this)}getSize(e){return Pl.resolve(this.size)}}class Ih extends fh{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(n)})),Pl.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Th{constructor(e){this.persistence=e,this.Fr=new eu((e=>zc(e)),Bc),this.lastRemoteSnapshotVersion=wl.min(),this.highestTargetId=0,this.Mr=0,this.Or=new wh,this.targetCount=0,this.Nr=mh.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Pl.resolve()}getLastRemoteSnapshotVersion(e){return Pl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Pl.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Pl.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Pl.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new mh(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Pl.resolve()}updateTargetData(e,t){return this.kn(t),Pl.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Pl.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.Fr.forEach(((r,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(r),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),Pl.waitFor(s).next((()=>i))}getTargetCount(e){return Pl.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Pl.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Pl.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach((t=>{s.push(i.markPotentiallyOrphaned(e,t))})),Pl.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Pl.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Pl.resolve(n)}containsKey(e,t){return Pl.resolve(this.Or.containsKey(t))}}class Ah{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Ll(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Th(this),this.indexManager=new hh,this.remoteDocumentCache=function(e){return new _h(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new lh(t),this.Kr=new yh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bh,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Ch(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Xo("MemoryPersistence","Starting transaction:",e);const i=new Sh(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((e=>this.referenceDelegate.Ur(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Wr(e,t){return Pl.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Sh extends Rl{constructor(e){super(),this.currentSequenceNumber=e}}class kh{constructor(e){this.persistence=e,this.Gr=new wh,this.zr=null}static jr(e){return new kh(e)}get Hr(){if(this.zr)return this.zr;throw tl()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Pl.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Pl.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Pl.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pl.forEach(this.Hr,(n=>{const i=Tl.fromPath(n);return this.Jr(e,i).next((e=>{e||t.removeEntry(i,wl.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Pl.or([()=>Pl.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Nh{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=i}static Qi(e,t){let n=hu(),i=hu();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new Nh(e,t.fromCache,n,i)}}class Rh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Dh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.zi(e,t).next((e=>{s.result=e})).next((()=>{if(!s.result)return this.ji(e,t,i,n).next((e=>{s.result=e}))})).next((()=>{if(s.result)return;const n=new Rh;return this.Hi(e,t,n).next((i=>{if(s.result=i,this.$i)return this.Ji(e,t,n,i.size)}))})).next((()=>s.result))}Ji(e,t,n,i){return n.documentReadCount<this.Ui?(Qo()<=k.DEBUG&&Xo("QueryEngine","SDK will not create cache indexes for query:",Xc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Pl.resolve()):(Qo()<=k.DEBUG&&Xo("QueryEngine","Query:",Xc(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(Qo()<=k.DEBUG&&Xo("QueryEngine","The SDK decides to create cache indexes for query:",Xc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kc(t))):Pl.resolve())}zi(e,t){if(Hc(t))return Pl.resolve(null);let n=Kc(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Wc(t,null,"F"),n=Kc(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const s=hu(...i);return this.Gi.getDocuments(e,s).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const r=this.Yi(t,i);return this.Zi(t,r,s,n.readTime)?this.zi(e,Wc(t,null,"F")):this.Xi(e,r,t,n)}))))})))))}ji(e,t,n,i){return Hc(t)||i.isEqual(wl.min())?Pl.resolve(null):this.Gi.getDocuments(e,n).next((s=>{const r=this.Yi(t,s);return this.Zi(t,r,n,i)?Pl.resolve(null):(Qo()<=k.DEBUG&&Xo("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xc(t)),this.Xi(e,r,t,function(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=wl.fromTimestamp(1e9===i?new bl(n+1,0):new bl(n,i));return new Sl(s,Tl.empty(),t)}(i,-1)).next((e=>e)))}))}Yi(e,t){let n=new Bl(function(e){return(t,n)=>{let i=!1;for(const s of $c(e)){const e=Zc(s,t,n);if(0!==e)return e;i=i||s.field.isKeyField()}return 0}}(e));return t.forEach(((t,i)=>{Yc(e,i)&&(n=n.add(i))})),n}Zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,n){return Qo()<=k.DEBUG&&Xo("QueryEngine","Using full collection scan to execute query:",Xc(t)),this.Gi.getDocumentsMatchingQuery(e,t,Sl.min(),n)}Xi(e,t,n,i){return this.Gi.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Ph{constructor(e,t,n,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new Vl(vl),this.ns=new eu((e=>zc(e)),Bc),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vh(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}async function Oh(e,t){const n=il(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((s=>(i=s,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const s=[],r=[];let a=hu();for(const e of i){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:s,addedBatchIds:r})))}))}))}function Lh(e,t){const n=il(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}class Mh{constructor(){this.activeTargetIds=du}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xh{constructor(){this.eo=new Mh,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Mh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Uh{ro(e){}shutdown(){}}class jh{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Xo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Xo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fh=null;function Vh(){return null===Fh?Fh=268435456+Math.round(2147483648*Math.random()):Fh++,"0x"+Fh.toString(16)}const qh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zh{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Bh="WebChannelConnection";class Gh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo=`projects/${n}/databases/${i}`,this.po="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${i}`}get yo(){return!1}wo(e,t,n,i,s){const r=Vh(),a=this.So(e,t);Xo("RestConnection",`Sending RPC '${e}' ${r}:`,a,n);const o={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(o,i,s),this.Do(e,a,o,n).then((t=>(Xo("RestConnection",`Received RPC '${e}' ${r}: `,t),t)),(t=>{throw Zo("RestConnection",`RPC '${e}' ${r} failed with error: `,t,"url: ",a,"request:",n),t}))}Co(e,t,n,i,s,r){return this.wo(e,t,n,i,s)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=qh[e];return`${this.mo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,i){const s=Vh();return new Promise(((r,a)=>{const o=new Go;o.setWithCredentials(!0),o.listenOnce(Fo.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case jo.NO_ERROR:const t=o.getResponseJson();Xo(Bh,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),r(t);break;case jo.TIMEOUT:Xo(Bh,`RPC '${e}' ${s} timed out`),a(new rl(sl.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:const n=o.getStatus();if(Xo(Bh,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(sl).indexOf(t)>=0?t:sl.UNKNOWN}(t.status);a(new rl(e,t.message))}else a(new rl(sl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rl(sl.UNAVAILABLE,"Connection failed."));break;default:tl()}}finally{Xo(Bh,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(i);Xo(Bh,`RPC '${e}' ${s} sending request:`,i),o.send(t,"POST",l,n,15)}))}vo(e,t,n){const i=Vh(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=xo(),a=Uo(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new zo({})),this.bo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");Xo(Bh,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=r.createWebChannel(c,o);let h=!1,d=!1;const p=new zh({co:t=>{d?Xo(Bh,`Not sending because RPC '${e}' stream ${i} is closed:`,t):(h||(Xo(Bh,`Opening RPC '${e}' stream ${i} transport.`),u.open(),h=!0),Xo(Bh,`RPC '${e}' stream ${i} sending:`,t),u.send(t))},lo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,Bo.EventType.OPEN,(()=>{d||Xo(Bh,`RPC '${e}' stream ${i} transport opened.`)})),m(u,Bo.EventType.CLOSE,(()=>{d||(d=!0,Xo(Bh,`RPC '${e}' stream ${i} transport closed`),p.Ro())})),m(u,Bo.EventType.ERROR,(t=>{d||(d=!0,Zo(Bh,`RPC '${e}' stream ${i} transport errored:`,t),p.Ro(new rl(sl.UNAVAILABLE,"The operation could not be completed")))})),m(u,Bo.EventType.MESSAGE,(t=>{var n;if(!d){const s=t.data[0];nl(!!s);const r=s,a=r.error||(null===(n=r[0])||void 0===n?void 0:n.error);if(a){Xo(Bh,`RPC '${e}' stream ${i} received error:`,a);const t=a.status;let n=function(e){const t=Ku[e];if(void 0!==t)return function(e){if(void 0===e)return Yo("GRPC error has no .code"),sl.UNKNOWN;switch(e){case Ku.OK:return sl.OK;case Ku.CANCELLED:return sl.CANCELLED;case Ku.UNKNOWN:return sl.UNKNOWN;case Ku.DEADLINE_EXCEEDED:return sl.DEADLINE_EXCEEDED;case Ku.RESOURCE_EXHAUSTED:return sl.RESOURCE_EXHAUSTED;case Ku.INTERNAL:return sl.INTERNAL;case Ku.UNAVAILABLE:return sl.UNAVAILABLE;case Ku.UNAUTHENTICATED:return sl.UNAUTHENTICATED;case Ku.INVALID_ARGUMENT:return sl.INVALID_ARGUMENT;case Ku.NOT_FOUND:return sl.NOT_FOUND;case Ku.ALREADY_EXISTS:return sl.ALREADY_EXISTS;case Ku.PERMISSION_DENIED:return sl.PERMISSION_DENIED;case Ku.FAILED_PRECONDITION:return sl.FAILED_PRECONDITION;case Ku.ABORTED:return sl.ABORTED;case Ku.OUT_OF_RANGE:return sl.OUT_OF_RANGE;case Ku.UNIMPLEMENTED:return sl.UNIMPLEMENTED;case Ku.DATA_LOSS:return sl.DATA_LOSS;default:return tl()}}(t)}(t),s=a.message;void 0===n&&(n=sl.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),d=!0,p.Ro(new rl(n,s)),u.close()}else Xo(Bh,`RPC '${e}' stream ${i} received:`,s),p.Vo(s)}})),m(a,Vo.STAT_EVENT,(t=>{t.stat===qo.PROXY?Xo(Bh,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===qo.NOPROXY&&Xo(Bh,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{p.Ao()}),0),p}}function Hh(){return"undefined"!=typeof document?document:null}function $h(e){return new Ju(e,!0)}class Kh{constructor(e,t,n=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=n,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-n);i>0&&Xo("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Wh{constructor(e,t,n,i,s,r,a,o){this.si=e,this.Ko=n,this.$o=i,this.connection=s,this.authCredentialsProvider=r,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Kh(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===sl.RESOURCE_EXHAUSTED?(Yo(t.toString()),Yo("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===sl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Uo===t&&this.s_(e,n)}),(t=>{e((()=>{const e=new rl(sl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Xo("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Xo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jh extends Wh{constructor(e,t,n,i,s,r){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,r),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(nl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(nl(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Zu(e.updateTime):Zu(t);return n.isEqual(wl.min())&&(n=Zu(t)),new ku(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Zu(e.commitTime);return this.listener.I_(n,t)}return nl(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=function(e){return new Cl(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>function(e,t){let n;if(t instanceof Uu)n={update:ih(e,t.key,t.value)};else if(t instanceof zu)n={delete:th(e,t.key)};else if(t instanceof ju)n={update:ih(e,t.key,t.data),updateMask:oh(t.fieldMask)};else{if(!(t instanceof Bu))return tl();n={verify:th(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof wu)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eu)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _u)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Tu)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw tl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Yu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:tl()}(e,t.precondition)),n}(this.serializer,e)))};this.e_(t)}}class Qh extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new rl(sl.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.wo(e,t,n,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===sl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rl(sl.UNKNOWN,e.toString())}))}Co(e,t,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,r])=>this.connection.Co(e,t,n,s,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===sl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rl(sl.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Xh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Yo(t),this.f_=!1):Xo("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Yh{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro((e=>{n.enqueueAndForget((async()=>{td(this)&&(Xo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=il(e);t.C_.add(4),await ed(t),t.M_.set("Unknown"),t.C_.delete(4),await Zh(t)}(this))}))})),this.M_=new Xh(n,i)}}async function Zh(e){if(td(e))for(const t of e.v_)await t(!0)}async function ed(e){for(const t of e.v_)await t(!1)}function td(e){return 0===il(e).C_.size}async function nd(e,t,n){if(!Ol(t))throw t;e.C_.add(1),await ed(e),e.M_.set("Offline"),n||(n=()=>function(e){const t=il(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Xo("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Zh(e)}))}function id(e,t){return t().catch((n=>nd(e,n,t)))}async function sd(e){const t=il(e),n=md(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;rd(t);)try{const e=await Lh(t.localStore,i);if(null===e){0===t.b_.length&&n.Zo();break}i=e.batchId,ad(t,e)}catch(e){await nd(t,e)}od(t)&&ld(t)}function rd(e){return td(e)&&e.b_.length<10}function ad(e,t){e.b_.push(t);const n=md(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function od(e){return td(e)&&!md(e).jo()&&e.b_.length>0}function ld(e){md(e).start()}async function cd(e){md(e).E_()}async function ud(e){const t=md(e);for(const n of e.b_)t.P_(n.mutations)}async function hd(e,t,n){const i=e.b_.shift(),s=Hu.from(i,t,n);await id(e,(()=>e.remoteSyncer.applySuccessfulWrite(s))),await sd(e)}async function dd(e,t){t&&md(e).h_&&await async function(e,t){if(function(e){return function(e){switch(e){default:return tl();case sl.CANCELLED:case sl.UNKNOWN:case sl.DEADLINE_EXCEEDED:case sl.RESOURCE_EXHAUSTED:case sl.INTERNAL:case sl.UNAVAILABLE:case sl.UNAUTHENTICATED:return!1;case sl.INVALID_ARGUMENT:case sl.NOT_FOUND:case sl.ALREADY_EXISTS:case sl.PERMISSION_DENIED:case sl.FAILED_PRECONDITION:case sl.ABORTED:case sl.OUT_OF_RANGE:case sl.UNIMPLEMENTED:case sl.DATA_LOSS:return!0}}(e)&&e!==sl.ABORTED}(t.code)){const n=e.b_.shift();md(e).Yo(),await id(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sd(e)}}(e,t),od(e)&&ld(e)}async function pd(e,t){const n=il(e);n.asyncQueue.verifyOperationInProgress(),Xo("RemoteStore","RemoteStore received new credentials");const i=td(n);n.C_.add(3),await ed(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Zh(n)}function md(e){return e.N_||(e.N_=function(e,t,n){const i=il(e);return i.A_(),new Jh(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{ho:cd.bind(null,e),Io:dd.bind(null,e),T_:ud.bind(null,e),I_:hd.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await sd(e)):(await e.N_.stop(),e.b_.length>0&&(Xo("RemoteStore",`Stopping write stream with ${e.b_.length} pending writes`),e.b_=[]))}))),e.N_}class fd{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const r=Date.now()+n,a=new fd(e,t,r,i,s);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rl(sl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gd(e,t){if(Yo("AsyncQueue",`${t}: ${e}`),Ol(e))return new rl(sl.UNAVAILABLE,`${t}: ${e}`);throw e}class vd{constructor(){this.queries=new eu((e=>Qc(e)),Jc),this.onlineState="Unknown",this.q_=new Set}}class yd{constructor(e,t,n,i,s,r){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=r,this.Va={},this.ma=new eu((e=>Qc(e)),Jc),this.fa=new Map,this.ga=new Set,this.pa=new Vl(Tl.comparator),this.ya=new Map,this.wa=new wh,this.Sa={},this.ba=new Map,this.Da=mh.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function bd(e,t,n){const i=il(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ma.forEach(((n,i)=>{const s=i.view.Q_(t);s.snapshot&&e.push(s.snapshot)})),function(e,t){const n=il(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.Q_(t)&&(i=!0)})),i&&function(e){e.q_.forEach((e=>{e.next()}))}(n)}(i.eventManager,t),e.length&&i.Va.a_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function wd(e,t){const n=il(e),i=t.batch.batchId;try{const e=await function(e,t){const n=il(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),s=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const s=n.batch,r=s.keys();let a=Pl.resolve();return r.forEach((e=>{a=a.next((()=>i.getEntry(t,e))).next((t=>{const r=n.docVersions.get(e);nl(null!==r),t.version.compareTo(r)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,s)))}(n,e,t,s).next((()=>s.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=hu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);_d(n,i,null),Cd(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Id(n,e)}catch(e){await Dl(e)}}async function Ed(e,t,n){const i=il(e);try{const e=await function(e,t){const n=il(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(nl(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);_d(i,t,n),Cd(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await Id(i,e)}catch(n){await Dl(n)}}function Cd(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function _d(e,t,n){const i=il(e);let s=i.Sa[i.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),i.Sa[i.currentUser.toKey()]=s}}async function Id(e,t,n){const i=il(e),s=[],r=[],a=[];i.ma.isEmpty()||(i.ma.forEach(((e,o)=>{a.push(i.va(o,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){s.push(e);const t=Nh.Qi(o.targetId,e);r.push(t)}})))})),await Promise.all(a),i.Va.a_(s),await async function(e,t){const n=il(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Pl.forEach(t,(t=>Pl.forEach(t.ki,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>Pl.forEach(t.qi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!Ol(e))throw e;Xo("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ts.get(t),i=e.snapshotVersion,s=e.withLastLimboFreeSnapshotVersion(i);n.ts=n.ts.insert(t,s)}}}(i.localStore,r))}async function Td(e,t){const n=il(e);if(!n.currentUser.isEqual(t)){Xo("SyncEngine","User change. New user:",t.toKey());const e=await Oh(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new rl(sl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ba.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Id(n,e._s)}}function Ad(e){const t=il(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wd.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ed.bind(null,t),t}class Sd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function(e,t,n,i){return new Ph(e,t,n,i)}(this.persistence,new Dh,e.initialUser,this.serializer)}createPersistence(e){return new Ah(kh.jr,this.serializer)}createSharedClientState(e){return new xh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Td.bind(null,this.syncEngine),await async function(e,t){const n=il(e);t?(n.C_.delete(2),await Zh(n)):t||(n.C_.add(2),await ed(n),n.M_.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vd}createDatastore(e){const t=$h(e.databaseInfo.databaseId),n=function(e){return new Gh(e)}(e.databaseInfo);return function(e,t,n,i){return new Qh(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,s){return new Yh(e,t,n,i,s)}(this.localStore,this.datastore,e.asyncQueue,(e=>bd(this.syncEngine,e,0)),jh.D()?new jh:new Uh)}createSyncEngine(e,t){return function(e,t,n,i,s,r,a){const o=new yd(e,t,n,i,s,r);return a&&(o.Ca=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=il(e);Xo("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await ed(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class Nd{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ko.UNAUTHENTICATED,this.clientId=gl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Xo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Xo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rl(sl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new al;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=gd(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Rd(e,t){e.asyncQueue.verifyOperationInProgress(),Xo("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Oh(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Dd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Xo("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===sl.FAILED_PRECONDITION||e.code===sl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await Rd(e,new Sd)}}else Xo("FirestoreClient","Using default OfflineComponentProvider"),await Rd(e,new Sd);return e._offlineComponents}(e);Xo("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>pd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>pd(t.remoteStore,n))),e._onlineComponents=t}function Pd(e){return async function(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Xo("FirestoreClient","Using user provided OnlineComponentProvider"),await Dd(e,e._uninitializedComponentsProvider._online)):(Xo("FirestoreClient","Using default OnlineComponentProvider"),await Dd(e,new kd))),e._onlineComponents}(e).then((e=>e.syncEngine))}function Od(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ld=new Map;function Md(e,t,n){if(!n)throw new rl(sl.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function xd(e){if(!Tl.isDocumentKey(e))throw new rl(sl.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ud(e){if(Tl.isDocumentKey(e))throw new rl(sl.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function jd(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":tl()}function Fd(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rl(sl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jd(e);throw new rl(sl.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}class Vd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rl(sl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rl(sl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new rl(sl.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")})(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Od(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rl(sl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new rl(sl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new rl(sl.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qd{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rl(sl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rl(sl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vd(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ll;switch(e.type){case"firstParty":return new dl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rl(sl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ld.get(e);t&&(Xo("ComponentProvider","Removing Datastore"),Ld.delete(e),t.terminate())}(this),Promise.resolve()}}class zd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new zd(this.firestore,e,this._query)}}class Bd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bd(this.firestore,e,this._key)}}class Gd extends zd{constructor(e,t,n){super(e,t,function(e){return new Gc(e)}(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bd(this.firestore,null,new Tl(e))}withConverter(e){return new Gd(this.firestore,e,this._path)}}class Hd{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Kh(this,"async_queue_retry"),this.iu=()=>{const e=Hh();e&&Xo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Hh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Hh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new al;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Ol(e))throw e;Xo("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=fd.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(i),i}su(){this.eu&&tl()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class $d extends qd{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Hd,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kd(this),this._firestoreClient.terminate()}}function Kd(e){var t,n,i;const s=e._freezeSettings(),r=function(e,t,n,i){return new tc(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Od(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new Nd(e._authCredentials,e._appCheckCredentials,e._queue,r),(null===(n=s.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=s.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}class Wd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wd(Kl.fromBase64String(e))}catch(e){throw new rl(sl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Wd(Kl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new rl(sl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Il(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Qd{constructor(e){this._methodName=e}}class Xd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rl(sl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rl(sl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vl(this._lat,e._lat)||vl(this._long,e._long)}}const Yd=/^__.*__$/;class Zd{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}function ep(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tl()}}class tp{constructor(e,t,n,i,s,r){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=r||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new tp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:n,du:!1});return i.Au(e),i}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:n,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return hp(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(ep(this.Iu)&&Yd.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class np{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||$h(e)}pu(e,t,n,i=!1){return new tp({Iu:e,methodName:t,gu:n,path:Il.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ip(e){const t=e._freezeSettings(),n=$h(e._databaseId);return new np(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sp(e,t,n,i,s,r={}){const a=e.pu(r.merge||r.mergeFields?2:0,t,n,s);lp("Data must be an object, but it was:",a,i);const o=ap(i,a);let l,c;if(r.merge)l=new Hl(a.fieldMask),c=a.fieldTransforms;else if(r.mergeFields){const e=[];for(const i of r.mergeFields){const s=cp(t,i,n);if(!a.contains(s))throw new rl(sl.INVALID_ARGUMENT,`Field '${s}' is specified in your field mask but missing from your input data.`);dp(e,s)||e.push(s)}l=new Hl(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Zd(new gc(o),l,c)}function rp(e,t){if(op(e=C(e)))return lp("Unsupported field value:",t,e),ap(e,t);if(e instanceof Qd)return function(e,t){if(!ep(t.Iu))throw t.mu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.mu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const s of e){let e=rp(s,t.Vu(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=C(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return fu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=bl.fromDate(e);return{timestampValue:Qu(t.serializer,n)}}if(e instanceof bl){const n=new bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qu(t.serializer,n)}}if(e instanceof Xd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wd)return{bytesValue:Xu(t.serializer,e._byteString)};if(e instanceof Bd){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.mu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:eh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu(`Unsupported field value: ${jd(e)}`)}(e,t)}function ap(e,t){const n={};return Fl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):jl(e,((e,i)=>{const s=rp(i,t.Eu(e));null!=s&&(n[e]=s)})),{mapValue:{fields:n}}}function op(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bl||e instanceof Xd||e instanceof Wd||e instanceof Bd||e instanceof Qd)}function lp(e,t,n){if(!op(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=jd(n);throw"an object"===i?t.mu(e+" a custom object"):t.mu(e+" "+i)}}function cp(e,t,n){if((t=C(t))instanceof Jd)return t._internalPath;if("string"==typeof t)return function(e,t,n){if(t.search(up)>=0)throw hp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Jd(...t.split("."))._internalPath}catch(i){throw hp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}(e,t);throw hp("Field path arguments must be of type string or ",e,!1,void 0,n)}const up=new RegExp("[~\\*/\\[\\]]");function hp(e,t,n,i,s){const r=i&&!i.isEmpty(),a=void 0!==s;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(r||a)&&(l+=" (found",r&&(l+=` in field ${i}`),a&&(l+=` in document ${s}`),l+=")"),new rl(sl.INVALID_ARGUMENT,o+e+l)}function dp(e,t){return e.some((e=>e.isEqual(t)))}function pp(e,t){const n=Fd(e.firestore,$d),i=function(e,t,...n){if(e=C(e),1===arguments.length&&(t=gl.newId()),Md("doc","path",t),e instanceof qd){const i=Cl.fromString(t,...n);return xd(i),new Bd(e,null,new Tl(i))}{if(!(e instanceof Bd||e instanceof Gd))throw new rl(sl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cl.fromString(t,...n));return xd(i),new Bd(e.firestore,e instanceof Gd?e.converter:null,new Tl(i))}}(e),s=function(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}(e.converter,t);return function(e,t){return function(e,t){const n=new al;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=Ad(e);try{const e=await function(e,t){const n=il(e),i=bl.now(),s=t.reduce(((e,t)=>e.add(t.key)),hu());let r,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=nu(),l=hu();return n.ss.getEntries(e,s).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((s=>{r=s;const a=[];for(const e of t){const t=Mu(e,r.get(e.key).overlayedDocument);null!=t&&a.push(new ju(e.key,t,vc(t.value.mapValue),Nu.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,a,t)})).next((t=>{a=t;const i=t.applyToLocalDocumentSet(r,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:a.batchId,changes:ru(r)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Sa[e.currentUser.toKey()];i||(i=new Vl(vl)),i=i.insert(t,n),e.Sa[e.currentUser.toKey()]=i}(i,e.batchId,n),await Id(i,e.changes),await sd(i.remoteStore)}catch(e){const t=gd(e,"Failed to persist write");n.reject(t)}}(await Pd(e),t,n))),n.promise}(function(e){return e._firestoreClient||Kd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}(e),t)}(n,[sp(ip(e.firestore),"addDoc",i._key,s,null!==e.converter,{}).toMutation(i._key,Nu.exists(!1))]).then((()=>i))}new WeakMap,function(e,t=!0){!function(e){Wo=e}(he),oe(new _("firestore",((e,{instanceIdentifier:n,options:i})=>{const s=e.getProvider("app").getImmediate(),r=new $d(new ul(e.getProvider("auth-internal")),new ml(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rl(sl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(e.options.projectId,t)}(s,n),s);return i=Object.assign({useFetchStreams:t},i),r._setSettings(i),r}),"PUBLIC").setMultipleInstances(!0)),me($o,"4.3.2",e),me($o,"4.3.2","esm2017")}();var mp=function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))};const fp=de({apiKey:"AIzaSyDy4weXhaPsGQMkTHcon0TFV4bR2aHquko",authDomain:"quiwe-22301.firebaseapp.com",projectId:"quiwe-22301",storageBucket:"quiwe-22301.appspot.com",messagingSenderId:"704773895989",appId:"1:704773895989:web:0909719081ce27debcbe7c",measurementId:"G-VJ8F2XEZP3"}),gp=function(e,t){const n="string"==typeof e?e:"(default)",i=le("object"==typeof e?e:pe(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=(e=>{const t=o("firestore");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]})();e&&function(e,t,n,i={}){var r;const a=(e=Fd(e,qd))._getSettings(),o=`${t}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==o&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Ko.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const a=i.mockUserToken.sub||i.mockUserToken.user_id;if(!a)throw new rl(sl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ko(a)}e._authCredentials=new cl(new ol(t,n))}}(i,...e)}return i}(fp),vp=fi(fp);cn(vp).then((()=>{})).catch((e=>{}));const yp=({email:e,password:t})=>mp(void 0,void 0,void 0,(function*(){return function(e,t){return C(e).setPersistence(t)}(vp,fn).then((()=>function(e,t,n){return async function(e,t){return on(Dt(e),t)}(C(e),Wt.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ln(e),t}))}(vp,e,t))).catch((e=>{const t=e.code,n=e.message;console.log(t,n)}))})),bp=e=>mp(void 0,void 0,void 0,(function*(){try{yield pp(function(e,t,...n){if(e=C(e),Md("collection","path",t),e instanceof qd){const i=Cl.fromString(t,...n);return Ud(i),new Gd(e,null,i)}{if(!(e instanceof Bd||e instanceof Gd))throw new rl(sl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Cl.fromString(t,...n));return Ud(i),new Gd(e.firestore,null,i)}}(gp,"products"),e)}catch(e){console.error("Error adding document: ",e)}}));const wp=e=>({type:"NAVIGATE",payload:e}),Ep=(e,t)=>{var n;const i=e.ownerDocument.createElement("style");i.innerHTML=t,null===(n=e.shadowRoot)||void 0===n||n.appendChild(i)};var Cp,_p=n(893);!function(e){e.logo="logo",e.regions="regions",e.climate="climate",e.search="search",e.profile="profile"}(Cp||(Cp={}));class Ip extends HTMLElement{static get observedAttributes(){return Object.keys({logo:null,regions:null,climate:null,search:null,profile:null})}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){switch(e){case Cp.logo:this.logo=n?String(n):void 0;break;case Cp.regions:this.regions=n?String(n):void 0;break;case Cp.climate:this.climate=n?String(n):void 0;break;case Cp.search:this.search=n?String(n):void 0;break;case Cp.profile:this.profile=n?String(n):void 0;break;default:this.propName=n}}render(){var e;this.shadowRoot&&(this.shadowRoot.innerHTML=""),Ep(this,_p.Z);const t=this.ownerDocument.createElement("section");t.classList.add("class-header");const n=this.ownerDocument.createElement("div");n.classList.add("class-left");const i=this.ownerDocument.createElement("img");i.setAttribute("src",`${this.logo}`),i.setAttribute("height","40np"),i.addEventListener("click",(()=>{Ti(wp(Ei.DASHBOARD))}));const s=this.ownerDocument.createElement("h3");s.innerText=`${this.regions}`,s.addEventListener("click",(()=>{Ti(wp(Ei.REGIONS))}));const r=this.ownerDocument.createElement("h3");r.innerText=`${this.climate}`,r.addEventListener("click",(()=>{Ti(wp(Ei.CLIMATE))}));const a=this.ownerDocument.createElement("div");a.classList.add("class-right");const o=this.ownerDocument.createElement("input");o.setAttribute("type","search"),o.setAttribute("placeholder","Buscar"),o.setAttribute("id","Buscador");const l=this.ownerDocument.createElement("button");l.textContent="Buscar",l.addEventListener("click",(()=>{const e=o.value;console.log(e)}));const c=this.ownerDocument.createElement("img");c.setAttribute("src",`${this.profile}`),c.setAttribute("height","35np"),c.style.marginLeft="50px";const u=this.ownerDocument.createElement("div");u.classList.add("dropdown-menu"),u.style.display="none";const h=()=>{console.log("Clic en Ver perfil"),Ti(wp(Ei.REGIONS))},d=()=>function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){try{const e=fi();yield cn(e),alert("Cierre de sesin exitoso"),Ti(wp(Ei.LOGIN))}catch(e){alert("Error al cerrar sesin:")}}));["Ver perfil","Log out"].forEach((e=>{const t=this.ownerDocument.createElement("div");switch(t.textContent=e,e){case"Ver perfil":t.addEventListener("click",h);break;case"Log out":t.addEventListener("click",d)}u.appendChild(t)})),c.addEventListener("click",(()=>{console.log("Clic en la foto de perfil"),u.style.display="block"===u.style.display?"none":"block"})),n.appendChild(i),n.appendChild(s),n.appendChild(r),a.appendChild(o),a.appendChild(l),a.appendChild(c),a.appendChild(u),t.appendChild(n),t.appendChild(a),null===(e=this.shadowRoot)||void 0===e||e.appendChild(t)}}customElements.define("app-header",Ip);var Tp,Ap,Sp=n(946);!function(e){e.img="img",e.title="title",e.spot="spot",e.region="region",e.climate="climate"}(Tp||(Tp={}));class kp extends HTMLElement{static get observedAttributes(){return[Tp.img,Tp.title,Tp.spot]}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){switch(e){case Tp.img:this.img=n?String(n):void 0;break;case Tp.title:this.customTitle=n?String(n):void 0;break;case Tp.spot:this.spot=n?String(n):void 0;default:this.propName=n}}render(){var e,t,n,i;this.shadowRoot&&(this.shadowRoot.innerHTML=""),Ep(this,Sp.Z);const s=this.ownerDocument.createElement("section");s.classList.add("class-styles");const r=this.ownerDocument.createElement("img");r.classList.add("class-image"),r.setAttribute("src",`${this.img}`),r.setAttribute("height","267.57px"),r.setAttribute("width","200.68px"),r.addEventListener("click",(()=>{Ti(wp(Ei.SPOTSELECT))}));const a=this.ownerDocument.createElement("h1");a.classList.add("tittle-spot"),a.innerText=`${this.title}`;const o=this.ownerDocument.createElement("h3");o.innerText=`${this.spot}`,null===(e=this.shadowRoot)||void 0===e||e.appendChild(r),null===(t=this.shadowRoot)||void 0===t||t.appendChild(a),null===(n=this.shadowRoot)||void 0===n||n.appendChild(o),null===(i=this.shadowRoot)||void 0===i||i.appendChild(s)}}customElements.define("app-home",kp),function(e){e.img="img",e.title="title",e.spot="spot"}(Ap||(Ap={}));class Np extends HTMLElement{static get observedAttributes(){return[Ap.img,Ap.title,Ap.spot]}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){switch(e){case Ap.img:this.img=n?String(n):void 0;break;case Ap.title:this.customTitle=n?String(n):void 0;break;case Ap.spot:this.spot=n?String(n):void 0;default:this.propName=n}}render(){var e,t,n,i;this.shadowRoot&&(this.shadowRoot.innerHTML=""),Ep(this,Sp.Z);const s=this.ownerDocument.createElement("section");s.classList.add("class-styles");const r=this.ownerDocument.createElement("img");r.classList.add("class-image"),r.setAttribute("src",`${this.img}`),r.setAttribute("height","267.57px"),r.setAttribute("width","200.68px"),r.addEventListener("click",(()=>{Ti(wp(Ei.SPOTSELECT))}));const a=this.ownerDocument.createElement("h1");a.classList.add("tittle-spot"),a.innerText=`${this.title}`;const o=this.ownerDocument.createElement("h3");o.innerText=`${this.spot}`,null===(e=this.shadowRoot)||void 0===e||e.appendChild(r),null===(t=this.shadowRoot)||void 0===t||t.appendChild(a),null===(n=this.shadowRoot)||void 0===n||n.appendChild(o),null===(i=this.shadowRoot)||void 0===i||i.appendChild(s)}}customElements.define("app-recommended",Np);const Rp=[{logo:"../src/components/imgheader/quiwe.png",regions:"Regiones",climate:"Climas",profile:"../src/components/imgheader/profile.png"}],Dp=[{name:"m_gigante",img:"https://huilamagnifica.com/wp-content/uploads/2019/05/Mirador-La-Mano-del-Gigante-Municipio-de-Gigante-Huila-Magnifica-10.jpg",title:"Mirador La Mano del Gigante",spot:"Gigante, Huila",description:"La mano del gigante abri al pblico a inicios del ao 2019 y se ha vuelto todo un furor en redes sociales, cada vez son ms y ms influencers, instragramers, viajeros, moteros y turistas locales y extranjeros en general que visitan este lugar para lograr las fotografas que ofrece este paisaje tan especial, representativo y excepcional que ofrece la ubicacin de este monumento.\nLa mano est hecha de manera artesanal pero muy resistente con rbol de eucalipto propio de la zona, al dar esa sensacin de estar al aire cuentan que esta mano sostiene el mundo y las 5 falanges de la mano simbolizan los 5 continentes del planeta.",region:"Andina",climate:"Templado"},{name:"p_peol",img:"https://upload.wikimedia.org/wikipedia/commons/2/26/PIEDRA_DEL_PE%C3%91OL_2.jpg",title:"Piedra del Peol",spot:"Guatap, Antioquia",description:"Uno de los atractivos tursticos ms importantes para visitar es El Pen de Guatap, conocido tambin como La piedra del Peol. Es un monolito de 220 metros de altura ubicado entre los municipios de Guatap y El Peol, que cuenta con 702 escalones hasta la cima. Una maravilla de la naturaleza, desde donde se puede ver la panormica del embalse de ms de 2.200 hectreas de extensin, que consta de varias islas en tonos verdes rodeadas de aguas tranquilas que invitan a la contemplacin y al descanso.\nDesde all se observa la antigua ubicacin del pueblo, puesto que se ha ubicado una cruz que emerge del agua y sirve de smbolo histrico.",region:"Andina",climate:"Templado"},{name:"c_sombrillas",img:"https://voyagesautenteo.com/wp-content/uploads/2021/07/rues-parapluies-guatape.jpg",title:"Callejn de las Sombrillas Coloridas",spot:"Guatap, Antioquia",description:"Seguido de la plazoleta de los zcalos, encontramos con una calle empedrada y estrecha, para uso peatonal llamada Calle de los paraguas. All se ubican principalmente tiendas artesanales y algunos de los zcalos ms famosos del municipio; sin duda, por su belleza y color, es uno de los lugares que debes ver en tu visita. Sobre la calle, colgando de un techo a otro, nos encontramos con muchos paraguas de colores vivos, adornando el lugar.\nEs ideal para caminar, hacerse fotos y tomarse un caf en las mesas que se ubican en la calle.",region:"Andina",climate:"Templado"},{name:"i_Pedro",img:"https://i0.wp.com/www.turismoreligioso.travel/wp-content/uploads/2021/09/SAN-PEDRO-CLAVER-EDIFICO-TURISMO-RELIGIOSO_1.jpg?fit=750%2C422&ssl=1",title:"Iglesia de San Pedro Claver",spot:"Cartagena de Indias, Bolvar",description:"La construccin del Monasterio y la Iglesia de San Pedro Claver, lo iniciaron los jesuitas en el siglo XVII. Ellos lo pusieron bajo la advocacin de San Ignacio de Loyola. El frontis del templo est hecho, como la mayora de los edificios de la ciudad vieja, con rocas coralinas que son famosas en esta regin. A partir de 1888, la iglesia fue restaurada y en 1921 se aadi la actual capilla que es un importante punto de referencia desde muchos lugares de la ciudad e incluso desde el mar.\nEscondido detrs de esa imponente fachada hay un patio colonial con exuberantes jardines. Por eso este espacio es el refugio perfecto para un descanso del ajetreo y el bullicio de Cartagena.",region:"Caribe",climate:"Calido"},{name:"c_cristales",img:"https://www.eluniversal.com.mx/resizer/7Loc41J5hFF0EhhlDfuOFfrixCE=/1100x666/cloudfront-us-east-1.images.arcpublishing.com/eluniversal/PS36GSZDDNBVDF5HUA2KBNKYL4.jpg",title:"Cao Cristales",spot:"Sierra de la Macarena, Meta",description:"Ubicado en el Parque Nacional Serrana de la Macarena. Es conocida por su impactante belleza, con aguas cristalinas que van del verde esmeralda al amarillo, azul y rojo, debido a la presencia de diversas especies de plantas y vida acutica. El principal atractivo es un tipo de planta llamada Macarenia clavigera, que se vuelve de color rojo brillante en el lecho del ro durante la temporada de lluvias, creando una vista realmente impresionante.\nA Cao Cristales se le suele llamar el Ro de los Cinco Colores o el Arco Iris Lquido y se ha convertido en un popular destino turstico en los ltimos aos.",region:"Orinoqua",climate:"Calido"},{name:"s_lajas",img:"https://lanotapositiva.com/wp-content/uploads/2019/02/Por-su-arquitectura-y-ubicaci%C3%B3n-la-iglesia-de-Las-Lajas-en-Nari%C3%B1o-es-considerada-como-la-m%C3%A1s-bonita-del-mundo.jpg",title:"Santuario de Las Lajas",spot:"Ipiales, Nario",description:"Como sacada de un cuento de hadas, entre las montaas, dentro de un can se alza majestuosa una construccin neogtica que hipnotiza y enamora. El Santuario de las Lajas es una combinacin perfecta entre fe, encanto y creencias populares, unidas para crear una maravilla arquitectnica que ha sido denominada por el peridico The Telegraph como una de las iglesias ms hermosas del mundo.\nEste templo se encuentra a 40 metros de altura sobre el ro Gutira y debe su nombre a la Laja, una piedra gris y blanca que se encuentra en la zona y que contrasta con el hermoso verde de la Cordillera de los Andes. Esta construccin se realiz entre 1916 y 1949 y se hizo gracias a las donaciones de los feligreses de la zona.",region:"Pacfica",climate:"Frio"}],Pp=[{name:"m_gigante",img:"https://huilamagnifica.com/wp-content/uploads/2019/05/Mirador-La-Mano-del-Gigante-Municipio-de-Gigante-Huila-Magnifica-10.jpg",title:"Mirador La Mano del Gigante",spot:"Gigante, Huila",description:"La mano del gigante abri al pblico a inicios del ao 2019 y se ha vuelto todo un furor en redes sociales, cada vez son ms y ms influencers, instragramers, viajeros, moteros y turistas locales y extranjeros en general que visitan este lugar para lograr las fotografas que ofrece este paisaje tan especial, representativo y excepcional que ofrece la ubicacin de este monumento.\nLa mano est hecha de manera artesanal pero muy resistente con rbol de eucalipto propio de la zona, al dar esa sensacin de estar al aire cuentan que esta mano sostiene el mundo y las 5 falanges de la mano simbolizan los 5 continentes del planeta.",region:"Andina",climate:"Templado"},{name:"p_peol",img:"https://upload.wikimedia.org/wikipedia/commons/2/26/PIEDRA_DEL_PE%C3%91OL_2.jpg",title:"Piedra del Peol",spot:"Guatap, Antioquia",description:"Uno de los atractivos tursticos ms importantes para visitar es El Pen de Guatap, conocido tambin como La piedra del Peol. Es un monolito de 220 metros de altura ubicado entre los municipios de Guatap y El Peol, que cuenta con 702 escalones hasta la cima. Una maravilla de la naturaleza, desde donde se puede ver la panormica del embalse de ms de 2.200 hectreas de extensin, que consta de varias islas en tonos verdes rodeadas de aguas tranquilas que invitan a la contemplacin y al descanso.\nDesde all se observa la antigua ubicacin del pueblo, puesto que se ha ubicado una cruz que emerge del agua y sirve de smbolo histrico.",region:"Andina",climate:"Templado"},{name:"c_sombrillas",img:"https://voyagesautenteo.com/wp-content/uploads/2021/07/rues-parapluies-guatape.jpg",title:"Callejn de las Sombrillas Coloridas",spot:"Guatap, Antioquia",description:"Seguido de la plazoleta de los zcalos, encontramos con una calle empedrada y estrecha, para uso peatonal llamada Calle de los paraguas. All se ubican principalmente tiendas artesanales y algunos de los zcalos ms famosos del municipio; sin duda, por su belleza y color, es uno de los lugares que debes ver en tu visita. Sobre la calle, colgando de un techo a otro, nos encontramos con muchos paraguas de colores vivos, adornando el lugar.\nEs ideal para caminar, hacerse fotos y tomarse un caf en las mesas que se ubican en la calle.",region:"Andina",climate:"Templado"},{name:"i_Pedro",img:"https://i0.wp.com/www.turismoreligioso.travel/wp-content/uploads/2021/09/SAN-PEDRO-CLAVER-EDIFICO-TURISMO-RELIGIOSO_1.jpg?fit=750%2C422&ssl=1",title:"Iglesia de San Pedro Claver",spot:"Cartagena de Indias, Bolvar",description:"La construccin del Monasterio y la Iglesia de San Pedro Claver, lo iniciaron los jesuitas en el siglo XVII. Ellos lo pusieron bajo la advocacin de San Ignacio de Loyola. El frontis del templo est hecho, como la mayora de los edificios de la ciudad vieja, con rocas coralinas que son famosas en esta regin. A partir de 1888, la iglesia fue restaurada y en 1921 se aadi la actual capilla que es un importante punto de referencia desde muchos lugares de la ciudad e incluso desde el mar.\nEscondido detrs de esa imponente fachada hay un patio colonial con exuberantes jardines. Por eso este espacio es el refugio perfecto para un descanso del ajetreo y el bullicio de Cartagena.",region:"Caribe",climate:"Calido"},{name:"c_cristales",img:"https://www.eluniversal.com.mx/resizer/7Loc41J5hFF0EhhlDfuOFfrixCE=/1100x666/cloudfront-us-east-1.images.arcpublishing.com/eluniversal/PS36GSZDDNBVDF5HUA2KBNKYL4.jpg",title:"Cao Cristales",spot:"Sierra de la Macarena, Meta",description:"Ubicado en el Parque Nacional Serrana de la Macarena. Es conocida por su impactante belleza, con aguas cristalinas que van del verde esmeralda al amarillo, azul y rojo, debido a la presencia de diversas especies de plantas y vida acutica. El principal atractivo es un tipo de planta llamada Macarenia clavigera, que se vuelve de color rojo brillante en el lecho del ro durante la temporada de lluvias, creando una vista realmente impresionante.\nA Cao Cristales se le suele llamar el Ro de los Cinco Colores o el Arco Iris Lquido y se ha convertido en un popular destino turstico en los ltimos aos.",region:"Orinoqua",climate:"Calido"},{name:"s_lajas",img:"https://lanotapositiva.com/wp-content/uploads/2019/02/Por-su-arquitectura-y-ubicaci%C3%B3n-la-iglesia-de-Las-Lajas-en-Nari%C3%B1o-es-considerada-como-la-m%C3%A1s-bonita-del-mundo.jpg",title:"Santuario de Las Lajas",spot:"Ipiales, Nario",description:"Como sacada de un cuento de hadas, entre las montaas, dentro de un can se alza majestuosa una construccin neogtica que hipnotiza y enamora. El Santuario de las Lajas es una combinacin perfecta entre fe, encanto y creencias populares, unidas para crear una maravilla arquitectnica que ha sido denominada por el peridico The Telegraph como una de las iglesias ms hermosas del mundo.\nEste templo se encuentra a 40 metros de altura sobre el ro Gutira y debe su nombre a la Laja, una piedra gris y blanca que se encuentra en la zona y que contrasta con el hermoso verde de la Cordillera de los Andes. Esta construccin se realiz entre 1916 y 1949 y se hizo gracias a las donaciones de los feligreses de la zona.",region:"Pacfica",climate:"Frio"},{name:"r_victoria",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Cuerpo1-4-1536x864.jpg",title:"Reserva Natural Victoria Regia",spot:"Leticia, Amazonas",description:"El loto o el lirio de agua ms grande de Colombia, nativo de las aguas poco profundas del ro Amazonas, se conoce como victoria regia y se encuentra en esta reserva que se puede recorrer a travs de puentes instalados cerca de los lagos donde viven, lo que permite verlos de cerca.\nAlrededor de esta zona de plantas acuticas con flores que crecen en lagos, lagunas, charcas, pantanos o arroyos de corriente lenta, estando usualmente enraizadas en el fondo; hay senderos donde se pueden avistar guacamayas, monos bebeleches, entre otras muchas especies de animales.",region:"Amaznica",climate:"Calido"},{name:"p_amacayacu",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Cuerpo-9-1536x864.jpg",title:"Parque Nacional Natural Amacayacu",spot:"Leticia, Amazonas",description:"Es un lugar ideal para conectarse con las experiencias que ofrece la Amazona colombiana. Los endmicos delfines rosados, los tits pielroja, manates, dantas, jaguares y ms de 400 especies de aves se pueden observar en los recorridos guiados por las comunidades indgenas tikuna, que prestan los servicios ecotursticos a este parque.\nTambin es posible cruzar entre las copas de los rboles por el Puente del Dosel, que cuelga a ms de 30 metros de altura y desde donde se divisa la selva y el ro Amazonas. En este recorrido se observa una ceiba de ms de 300 aos, se puede ascender a travs cuerdas o escalera para alcanzar el puente y luego descender en rappel.",region:"Amaznica",climate:"Calido"},{name:"s_vicente",img:"https://colombiavisible.com/wp-content/uploads/2022/01/Portada-Caguan-Expeditions-1536x864.jpeg",title:"San Vicente del Cagun",spot:"San Vicente del Cagun, Caquet",description:"San Vicente del Cagun fue por mucho tiempo un municipio al que no se poda acceder a causa del conflicto armado y hoy, despus de la firma del Acuerdo de Paz, es sinnimo de ecoturismo y turismo de aventura.\nUna de las opciones es hacer rafting y paseos en balsa por el caudal del ro Pato, operado por personas en proceso de reincorporacin, as como caminatas por senderos ecolgicos y por el casco urbano, que tienen tambin un componente de memoria histrica y que son operados por guas locales.",region:"Amaznica",climate:"Calido"},{name:"r_dalias",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Las-Dalias-1536x864.jpg",title:"Reserva Natural Las Dalias",spot:" La Montaita, Caquet",description:"Se trata de una reserva de alrededor de 80 hectreas que ofrece atractivos naturales como los arroyos Agua Bonita y La Cajona, as como una serie de cuevas con una longitud promedio de 100 metros y una cascada de 12 metros de altura, entre varios otros pozos y piscinas naturales.\nDe la misma manera se pueden avistar varias especies de la fauna amaznica como tigrillos, armadillos y una gran variedad de primates.",region:"Amaznica",climate:"Calido"},{name:"e_fluvial",img:"https://arc-anglerfish-arc2-prod-elespectador.s3.amazonaws.com/public/T2QTFP52DNDENBJ6YGA7S5A4HA.jpg",title:"Estrella fluvial del oriente",spot:"Irnida, Guaina",description:"En este destino se puede observar claramente cmo los ros Guaviare, Inrida y Atabapo se unen para formar el gran Orinoco, el tercer ro ms caudaloso del mundo.Este punto de la cuenca fue apodado as por el alemn Alexander von Humboldt en el siglo XIX y all se pueden observar diez ecosistemas estratgicos pertenecientes al territorio colombiano como bosques heterogneos no inundables, bosques inundables y zonas cubiertas de arenas blancas con hierbas y arbustos.\nTambin se puede navegar el ro Atabapo en la frontera colombo-venezolana, cuyas aguas cambian del color negro hacia el rojo o el amarillo dependiendo de la posicin del sol.",region:"Amaznica",climate:"Calido"},{name:"s_lindosa",img:"https://colombiavisible.com/wp-content/uploads/2022/04/WhatsApp-Image-2022-04-19-at-10.00.24-AM-2.jpeg",title:"Serrana de la Lindosa",spot:"San Jos del Guaviare, Guaviare",description:"En esta formacin rocosa, que pertenece al Escudo Guyans, se encuentran varios atractivos. Uno de los principales son los pictogramas indgenas que tienen alrededor de 12.000 aos de antigedad y se pueden apreciar con particularidad en Cerro Azul y Nuevo Tolima, dos monumentos del lugar. De la misma manera se encuentran caos y ros coloridos como los de Cao Cristales, as como formaciones de rocas que crean caminos, corredores y tneles, tambin marcados con pictogramas, que componen La Ciudad de Piedra",region:"Amaznica",climate:"Calido"},{name:"p_orion",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Puerta-de-Orion-1536x864.jpg",title:"Puerta de Orin",spot:"San Jos del Guaviare, Guaviare",description:"Ubicada a  kilmetros de San Jos del Guaviare, la Puerta de Orin es una formacin rocosa de 12 metros de alto y 15 de ancho. Recibe su nombre porque, desde ese lugar, cada diciembre, entre las siete y las nueve de la noche, se alnea la constelacin del Cinturn de Orin.\nAdems, a su alrededor hay laberintos formados por rocas, as como tneles y puentes naturales desde los que se puede ver la sabana guaverense. La vegetacin de los alrededores se puede explorar en un recorrido de, aproximadamente, 40 minutos.",region:"Amaznica",climate:"Calido"},{name:"c_fin",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Cascada-del-Fin-del-Mundo-1536x864.jpg",title:"Cascada del Fin del Mundo",spot:"Mocoa, Putumayo",description:"Se trata de una cada de agua de 70 metros de altura, a pocos kilmetros del casco urbano de la capital del departamento, Mocoa. Desde su cima se puede observar la Serrana de los Churumbelos, un parque nacional en jurisdiccin de Putumayo y Cauca.\nDurante el recorrido a la cascada, donde no est permitido baarse, hay varios pozos naturales, quebradas y cascadas ms pequeas que s tienen acceso autorizado para los turistas. Entre ellos la quebrada Dantayaco y los pozos Danta, Almorzadero y Pozo Negro.",region:"Amaznica",climate:"Calido"},{name:"r_jiriji",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Raudal-de-Jirijirimo-1536x864.jpg",title:"Raudal de Jirijirimo",spot:"Pacoa, Vaups",description:"El Raudal de Jirijirimo es un tramo en el curso medio-bajo del ro Apaporis que marca el lmite entre los departamentos de Vaups y Amazonas, conocido tambin como La cama de la anaconda. Por la manera en que las rocas forman especies de escalones sobre los que cae el agua, es considerada una cascada nica en el pas.\nAdems de contemplar la belleza del lugar, otro de los atractivos de la zona es la desembocadura del ro Cananar, cerca del Raudal, en el ro Apaporis.",region:"Amaznica",climate:"Calido"},{name:"comuna",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Comuna-13-de-Medellin-1536x864.jpg",title:"Comuna 13",spot:"Medelln, Antioquia",description:"Diversos recorridos de arte urbano y memoria se ofrecen en Medelln y el Valle de Aburr, el ms conocido es el de la Comuna 13, una zona al occidente de la ciudad que, desde hace 10 aos, es referente de transformacin social despus de haber vivido el recrudecimiento de la violencia.\nAll se encuentra la galera de Graffittis que cuenta la historia del conflicto que atraves esta comuna durante finales de los aos 90 y principios de los 2000, las Escaleras Elctricas construidas en 2010 como una solucin de movilidad para los habitantes del barrio Las Independencias #1 y distintos miradores donde se puede divisar la ciudad mientras se disfruta de una paleta de mango biche, conocida receta de la zona.",region:"Andina",climate:"Templado"},{name:"sf_antioquia",img:"https://travelandservice.com.co/wp-content/uploads/2021/02/tour-pueblos-patrimonio-2.png.jpg",title:"Santa Fe de Antioquia",spot:"Santa Fe de Antioquia, Antioquia",description:"La primera capital del departamento de Antioquia an conserva su arquitectura colonial, con fachadas y construcciones que datan del siglo XVI. Ms vestigios de la historia paisa se pueden observar en sus distintas iglesias, el Museo Juan del Corral y el Museo de Arte Religioso Francisco Cristbal Toro. Adems, la Ciudad Madre sola conectarse con el resto del pas a travs del Puente de Occidente, una obra arquitectnica de 1887, a 10 minutos del casco urbano del municipio, que todava cuelga sobre el ro Cauca.",region:"Andina",climate:"Calido"},{name:"candelaria",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Candelaria-1536x864.jpg",title:"La Candelaria",spot:"Bogot, Cundinamarca",description:"En esta zona del centro de Bogot, en 1538, Gonzalo Jimnez de Quesada fund la ciudad, que comenz con 12 casas alrededor de una iglesia, especficamente en el Chorro de Quevedo (calle 12b # 2-98). Por eso, toda el rea es perfecta para apreciar las viviendas y el trazado arquitectnico colonial y republicano.\nOtros lugares de inters incluyen el Museo Botero, la Biblioteca Luis ngel Arango, el Centro Cultural Garca Mrquez; el Teatro Coln, que hace poco inaugur una serie de renovaciones; la Plaza de Bolvar y el Museo de Arte Miguel Urrutia.",region:"Andina",climate:"Frio"},{name:"c_monserrate",img:"https://radionacional-v3.s3.amazonaws.com/s3fs-public/styles/portadas_relaciona_4_3/public/node/article/field_image/MONSERRATE.jpg?h=efd05f9e&itok=uaolkzqm",title:"Cerro de Monserrate",spot:"Bogot, Cundinamarca",description:"Desde casi cualquier punto de la ciudad puede verse el santuario de Monserrate, en los cerros orientales de Bogot. Situado a 3,172 metros sobre el nivel del mar, en la cima del cerro de Monserrate o cerro de Las Nieves. La devocin de subir a pie por un camino de casi tres kilmetros hasta este sitio tradicional de peregrinacin religiosa se debe a que en su cspide reposa un santuario que data del ao 1620 con la ermita de Nuestra Seora de Monserrate.\nLa baslica alberga la imagen del Seor Cado de Monserrate, un Cristo que segn fieles hace milagros, y en la cima los visitantes pueden recorrer un viacrucis.",region:"Andina",climate:"Frio"},{name:"m_nacional",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Museo-Nacional-1536x864.jpg",title:"Museo Nacional de Colombia",spot:"Bogot, Cundinamarca",description:" El Museo Nacional de Colombia es un lugar que guarda la memoria viva del pas; un lugar para encontrar las races precolombinas, entender el proceso de independencia y dimensionar la diversidad cultural de Colombia.\nEl Museo Nacional es un escenario que te conmover, desde que ingresas experimentars sensaciones nicas. Aqu viajars en el tiempo y conocers en detalle obras y elementos histricos que han forjado el presente del pas.",region:"Andina",climate:"Frio"},{name:"l_tota",img:"https://viajescolombiaviva.com/wp-content/uploads/elementor/thumbs/IMG_20191006_152429-1-pdqsmq4bohocie0lmx26tl8ng93zkna56ve4ezk6ms.jpg",title:"Laguna de Tota ",spot:"Aquitania, Boyac",description:"Se trata de un cuerpo de agua de alrededor de 55 kilmetros cuadrados que se encuentra en jurisdiccin de los municipios de Cutiva, Tota y Aquitania. Es el lago ms grande de Colombia y en l se pueden realizar deportes acuticos, pesca, navegacin, caminatas por los bosques aledaos y camping en zonas designadas.\nAdems, en el borde de la laguna est Playa Blanca, la nica playa de clima fro que hay en el pas.",region:"Andina",climate:"Frio"},{name:"mongui",img:"https://camicorrecaminos.com/wp-content/uploads/2022/03/QSX-1024x768.jpg",title:"Mongu",spot:"Mongu, Boyac",description:"Es uno de los 17 pueblos patrimonio de Colombia y conocido por muchos como el pueblo ms bonito del departamento. Fue fundado en 1601 y tiene construcciones de la poca como el Puente de Calicanto, sobre el ro el Morro, y la Baslica de Nuestra Seora de Mongu, declarada patrimonio cultural de Colombia. Adems, se puede visitar el Pramo de Ocet, pues Mongu es el municipio ms cercano a este patrimonio natural del pas. De la misma manera, el municipio es conocido por la fabricacin de balones. De hecho, durante el mes de octubre se lleva a cabo el Festival del Baln.",region:"Andina",climate:"Frio"},{name:"p_cocuy",img:"https://colombiavisible.com/wp-content/uploads/2022/02/IMG_5666-scaled-1-1536x705.jpeg",title:"Parque nacional Natural El Cocuy",spot:"Arauca, Boyac y Casanare",description:"La Sierra Nevada del Cocuy est compuesta de ms de 25 picos cubiertos de hielo y nieve en dos cadenas montaosas de alrededor de 25 kilmetros de longitud que oscilan entre los 4.800 y 5.330 metros sobre el nivel del mar, siendo as la mayor masa glaciar de Colombia.\nSin embargo, solo hay tres senderos autorizados para visitar: el Ritacuba, que lleva hasta el borde del glaciar Ritacuba Blanco; el sendero Laguna Grande de la Sierra, que lleva hasta el borde del glaciar del Pico Cncavo y el sendero Lagunillas Plpito, que llega hasta el borde del glaciar del Plpito del Diablo.",region:"Andina",climate:"Paramo"},{name:"v_leyva",img:"https://mexicorutamagica.mx/wp-content/uploads/2022/03/villa-de-leyva-1024x640.jpg",title:"Villa de Leyva",spot:"Villa de Leyva, Boyac",description:"Es uno de los municipios ms caractersticos del centro de Colombia y es famoso, entre otras cosas, por su plaza principal que, con 14.000 metros cuadrados, es una de las ms grandes de Amrica. Asimismo, es otro de los Pueblos Patrimonio de Colombia, declarado Monumento Nacional y conocido, tambin, por el Festival del Viento y las Cometas en el mes de agosto.\nDe la misma manera se realiza tambin el Villa Jazz Festival en junio y la Fiesta de las Luces, en diciembre. Por otra parte, se pueden visitar varios lugares de inters como el Museo El Fsil, el Centro de Investigaciones Paleontolgicas, los Pozos Azules y la Laguna de Iguaque, entre varios otros.",region:"Andina",climate:"Templado"},{name:"c_chorrera",img:"https://ecoglobalexpeditions.com/wp-content/uploads/2017/03/Chorrera-2018w-1.jpg",title:"Cascada La Chorrera",spot:"Choach, Cundinamarca",description:"La cascada ms alta de todo el pas (590 metros) se encuentra en Choach y permaneci, por aos, como un paraje natural casi que annimo. Su potencial como atractivo turstico del departamento slo comenz a cimentarse en 2007, cuando 50 familias de ese municipio se organizaron para explorar esa posibilidad.\nAs nacieron una serie de rutas ecotursticas que, a lo largo de bosques, cuevas y otras cascadas, exploran la historia de la regin, su rol como lugar de paso para los comerciantes que llegaban a Cundinamarca desde otras regiones; las diferentes especies que habitan el ecosistema local y hasta la funcin de La Chorrera como escenario para rituales muiscas.",region:"Andina",climate:"Templado"},{name:"c_zipaquira",img:"https://www.lavanguardia.com/files/og_thumbnail/uploads/2019/01/04/5fa51ae8290ab.jpeg",title:"Catedral de sal de Zipaquir",spot:"Zipaquir, Cundinamarca",description:"Construido entre 1950 y 1954, pero renovadp completamente entre el 91 y el 95, este templo subterrneo se ha ganado el ttulo como la maravilla nmero uno de Colombia por ser considerado como toda una proeza arquitectnica: el tnel de 386 metros de longitud y 13 metros de altura, las tres recmaras y todas las figuras, incluidas las 14 del viacrucis y la cruz de 4,20 metros de altura estn completamente talladas en sal.\nAdems de los servicios eclesisticos, cuenta con otros atractivos como el Museo de la Salmuera, el espejo de agua, un sendero ecolgico y hasta un muro de escalar. Tambin se ha convertido en un destino popular para el turismo de reuniones y, ocasionalmente, hasta para fiestas de msica electrnica.",region:"Andina",climate:"Frio"},{name:"c_chingaza",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Chingaza-1536x864.jpg",title:"Pramo de Chingaza",spot:"Cundinamarca y Meta",description:"Con una extensin de 76.600 hectreas e influencia sobre siete municipios de Cundinamarca y cuatro de Meta, se trata de uno de los principales ecosistemas alrededor de Bogot, as como de la principal fuente de agua para la capital del pas. Cuenta con seis senderos ecotursticos, aunque en este momento slo tres estn habilitados para los visitantes: Suasie, Laguna de Chingaza y Lagunas de Siecha, siendo este ltimo uno de los ms concurridos, por la importancia de estos cuerpos de agua para la comunidad Muisca.\nEl pramo es hogar para numerosas especies, siendo los venados y el oso andino las ms reconocidas. Eso s, avistar al segundo requiere de bastante paciencia y un poco de suerte. Recuerde, adems, que para poder ingresar al parque necesita primero contar con la compaa de un gua certificado por Parques Nacionales y asistir a la induccin para visitantes.",region:"Orinoquia",climate:"Frio"},{name:"p_nevados",img:"https://colombiavisible.com/wp-content/uploads/2022/02/shutterstock_405813253-1-1024x678.jpg",title:"Parque Nacional Natural Los Nevados",spot:"Tolima, Caldas, Quindo y Risaralda",description:"Los nevados del Ruiz, Tolima, Santa Isabel, el Cisne, Quindo y el Paramillo de Santa Rosa se encuentran en este Parque Nacional. En mltiples senderos de este Parque de casi 600 km2 de extensin se encuentran lugares como la laguna del Otn y diferentes ecosistemas de bosque andino, pramo y glaciar, adems de los cinco nevados.\nEs un lugar idneo para el avistamiento de fauna como venados, dantas de pramo y aves, por su gran concentracin de especies. Entre ellas, se destacan el periquito de los nevados, la cotorra, el cndor andino, el tororoi de Miller, el pato andino, los pericos paramunos y diferentes especies de colibr.",region:"Andina",climate:"Paramo"},{name:"s_agustin",img:"https://colombiavisible.com/wp-content/uploads/2022/03/Interna-1024x576.jpg",title:"Parque Arqueolgico de San Agustn",spot:"San Agustn, Huila",description:"Conocido como la capital arqueolgica de Colombia, este destino alberga tres locaciones patrimonio de la humanidad: el Parque Arqueolgico San Agustn, el Alto de las Piedras y el Alto de los dolos. En el parque, la necrpolis de mayor extensin a nivel mundial, se encuentran estructuras arqueolgicas descubiertas entre los siglos I y VIII d.C., pero que datan de un perodo aproximado entre los aos 3000 hasta el ao 1000 a. C. Adems, este municipio est rodeado de otros sitios ceremoniales donde se pueden apreciar otras esculturas monolticas, piezas en barro, tumbas, collares y mscaras.",region:"Andina",climate:"Templado"},{name:"d_tatacoa",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Desierto-de-la-Tatacoa-1024x576.jpg",title:"Desierto de la Tatacoa",spot:"Villavieja, Huila",description:"Es la segunda zona rida ms extensa de Colombia, con una temperatura que puede alcanzar los 39 grados centgrados. Se requiere el acompaamiento de un gua para recorrer Cuzco, como se conoce a su parte de color rojizo, y Los Hoyos, su paisaje gris similar a la superficie de la luna. La Tatacoa es tambin uno de los mejores lugares para observar las estrellas en Colombia, desde el Observatorio Astronmico de Villavieja se pueden apreciar algunas galaxias y estrellas fugaces. En su topografa tambin se identifica el Valle de los Deseos, un lugar donde los visitantes apilan piedras para pedir un deseo que queda custodiado por los fantasmas, figuras de arcilla a las que se atribuye esta forma.",region:"Andina",climate:"Calido"},{name:"t_santarosa",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Cuerpo4-1536x864.jpg",title:"Termales de Santa Rosa de Cabal",spot:"Santa Rosa de Cabal, Risaralda",description:"Gracias a la actividad volcnica del Parque Nacional Natural Los Nevados, en medio del paisaje cafetero se encuentran dos grandes fuentes de agua termal a 9 kilmetros del municipio de Santa Rosa de Cabal, Risaralda. Se puede disfrutar de una experiencia por un da completo u hospedarse en el hotel que rodea uno de los balnearios. Adems de disfrutar de piscinas naturales relajantes de hasta 40 grados centgrados de temperatura, en el territorio se hallan opciones de zona de spa y masajes, restaurante, senderismo y otras actividades como rappel por las cascadas.",region:"Andina",climate:"Templado"},{name:"v_cocora",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Valle-del-Cocora-1-1536x864.jpg",title:"Valle del Cocora",spot:"Salento, Quindo",description:"El Valle del Cocora hace parte de las diferentes zonas que existen en el Parque Nacional Natural Los Nevados. All, gracias a su ubicacin en la cordillera central de los Andes colombianos, se encuentran las famosas Palmas de Cera (que pueden llegar a medir hasta 50 metros).\nDentro del Valle existen diferentes destinos y planes: Senderismo hasta el Cerro Morro Gacho, conocer la Cima del Cndor (uno de los puntos ms altos del valle, destino para el que tambin es necesario atravesar un puente colgante sobre el Ro Quindo) y caminar por la Reserva Natural Acaime.",region:"Andina",climate:"Frio"},{name:"p_cafe",img:"https://i.ytimg.com/vi/9XuMDdFvRW8/maxresdefault.jpg",title:"Parque del Caf",spot:"Montenegro, Quindo",description:"El Parque del Caf (creado por la Federacin Nacional de Cafeteros) es uno de los parques temticos ms atractivos de Amrica Latina tanto por su enfoque hacia un emblemtico producto nacional como el caf (son siete los tipos de caf de denominacin de origen) como por la originalidad de sus atracciones: cuenta con montaa acutica, montaa rusa, botes chocones, entre otras. Los visitantes tambin tienen acceso a un museo arqueolgico y un museo y tren del caf.",region:"Andina",climate:"Templado"},{name:"barichara",img:"https://colombiavisible.com/wp-content/uploads/2021/12/shutterstock_1636112695-scaled-1-1536x1025.jpg",title:"Barichara ",spot:"Barichara, Santander",description:"Otro serio competidor en las listas detrs del Pueblo ms lindo de Colombia, este municipio de la provincia de Guanent es famoso por su arquitectura en tierra (tapia pisada), una de las mejor conservadas del departamento y del pas. Justamente, esa tierra de la zona, insumo que utilizan para la construccin y la artesana, le dio a sus habitantes, que caminaban sin calzado, el apodo de patiamarillos por su peculiar color.",region:"Andina",climate:"Templado"},{name:"r_luriza",img:"https://www.elheraldo.co/sites/default/files/styles/widht_760/public/articulo/2018/10/24/1.jpg?itok=VrkMN_fe",title:"Reserva Natural Luriza",spot:"Usiacur, Atlntico",description:"La primera reserva ambiental del Atlntico se encuentra a 6 kilmetros del casco urbano del municipio de Usiacur, cuenta con un bosque seco tropical de 470 mil hectreas disponibles para senderismo y avistamiento de aves (hay 138 especies registradas). Alberga, adems, especies endmicas como el Tit Cabeciblanco, primate que algunas organizaciones como Proyecto Tit trabajan para preservar. Adems, limita con los municipios de Usiacur, famoso por sus artesanas con palma de iraca, y Pioj, reconocido por sus pozos.",region:"Caribe",climate:"Calido"},{name:"c_salgar",img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/04/a0/6a/a8/castillo-de-salgar.jpg?w=1200&h=-1&s=1",title:"Castillo de Salgar",spot:"Puerto Colombia, Atlntico",description:"El Castillo de San Antonio de Salgar es una edificacin ubicada en el municipio de Puerto Colombia, al noroccidente del departamento del Atlntico, Colombia. Fue construida en 1848 sobre las ruinas del antiguo fortn de San Antonio, durante la poca colonial. Es un lugar de inters histrico, pues el castillo fue un fuerte espaol que sirvi como presidio, como colonia y ms tarde como refugio.",region:"Caribe",climate:"Calido"},{name:"c_sanfelipe",img:"https://colombiavisible.com/wp-content/uploads/2022/01/2-23-1536x864.jpg",title:"Castillo de San Felipe de Barajas",spot:"Cartagena de Indias, Bolvar",description:"Compuesto por una red de 600 metros de tneles utilizados por los espaoles durante la Colonia, se encuentra ubicado sobre el Cerro de San Lzaro. Es considerado una de las 7 maravillas de Colombia y fue declarado Patrimonio de la Humanidad por la Unesco en 1984, junto con el Centro Histrico. Actualmente se pueden hacer recorridos educativos donde los visitantes tienen acceso a lugares como el cuarto de armas y el almacn de plvora, adems de una vista completa a la ciudad.",region:"Caribe",climate:"Calido"},{name:"m_zapatosa",img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/11/34/bc/48/muelle-turistico-cienaga.jpg?w=1200&h=1200&s=1",title:"Mirador de la Cinaga de Zapatosa",spot:"Chimichangua, Cesar",description:"Este complejo de humedales de 40.000 hectreas formados por el ro Cesar a unos pocos kilmetros antes de su desembocadura, hace parte de la Depresin Momposina, una zona que se caracteriza por una inmensa riqueza hdrica que significa que habita una gran diversidad de fauna y flora en el territorio.",region:"Caribe",climate:"Calido"},{name:"s_flamencos",img:"https://i0.wp.com/itinerantlawyer.travel/wp-content/uploads/2022/07/Santuario-Los-Flamencos-Portada.jpg?fit=1280%2C860&ssl=1",title:"Santuario Los Flamencos",spot:"Boca, La Guajira",description:"Uno de los espectculos que podr disfrutar el visitante es la quietud de los cielos azules y despejados de la pennsula de La Guajira, interrumpida por arreboles de un rosado intenso que se disuelven en espirales sobre las lagunas del Santuario. Se trata de bandadas de flamencos, aves esbeltas de plumaje rosa que dan el nombre a esta rea protegida. Los grciles flamencos y el majestuoso colorido de su plumaje son el principal atractivo del Santuario, que a pesar de su reducida extensin, es considerado una de las reas protegidas ms ricas en variedad de aves acuticas residentes y migratorias.",region:"Caribe",climate:"Calido"},{name:"d_taroa",img:"https://images.mnstatic.com/49/ab/49ab899b394fa7af7e01b2dd4bafa4de.jpg",title:"Dunas de Taroa",spot:"Punta Gallinas, La Guajira",description:"Ubicadas en Punta Gallinas, el sitio ms septentrional de Colombia, son el ideal para los amantes del sandboarding (el descenso en tablas por las dunas o montaas de arena). Las agencias de turismo del lugar ofrecen hospedaje cerca de esta zona donde se puede disfrutar de las playas y del desierto.",region:"Caribe",climate:"Calido"},{name:"p_tayrona",img:"https://colombiavisible.com/wp-content/uploads/2022/02/Tayrona-1536x864.jpeg",title:"Playas Parque Tayrona",spot:"Santa Marta, Magdalena",description:"A 34 kilmetros de Santa Marta se encuentra el Parque Tayrona, un gran atractivo turstico del Magdalena por las ms de 30 playas, de diferentes caractersticas y posibilidades de acceso, y por su extenso terreno apto para senderismo, avistamiento de aves y gran variedad de fauna. Recuerde que en Colombia existen 21 Parque Nacionales Naturales abiertos al pblico actualmente.\nAlgunas de las ms conocidas son Cabo San Juan del Gua, La Piscina, Baha Concha y Baha Gayraca, ideal para practicar Snorkel y Buceo, adems de Boca del Saco (la nica playa nudista de Colombia).",region:"Caribe",climate:"Calido"},{name:"c_perdida",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Ciudad-perdida-1536x864.jpg",title:"Ciudad perdida",spot:"Santa Marta, Magdalena",description:"Santa Marta es una tierra donde an est muy marcada la presencia de las comunidades indgenas. De all sali Diomedes Izquierdo, el primer indgena arquelogo del pas y tambin Jos Luis Prez, nominado al premio Future For Nature 2022, por su trabajo en la conservacin de las ranas arlequn de la Sierra.\nCiudad Perdida, construda alrededor del siglo VIII, es uno de los principales sitios arqueolgicos de Colombia pues fue el centro de la civilizacin Tayrona. Fue, adems, declarada reserva de la biosfera desde 1979 por la UNESCO.",region:"Caribe",climate:"Calido"},{name:"s_sereno",img:"https://www.sitiosturisticoscolombia.com/wp-content/uploads/cascadas-del-sereno-coloso.jpg",title:"Salto del Sereno",spot:"Colos, Sucre",description:"Un destino turstico poco explorado pues se trata de una cascada de 20 metros que termina en una piscina natural de agua cristalina, en medio de un predio privado despus de una caminata desde la Vereda La Esmeralda, del municipio de Colos. En el recorrido se puede observar distintas variedades de flora y disfrutar de algunos charcos, arroyos que a pesar de la temperatura de hasta 39 grados que puede alcanzar este territorio, se mantienen fros.",region:"Caribe",climate:"Calido"},{name:"j_cay",img:"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/12/32/1a/7c/johnny-cay.jpg?w=1200&h=-1&s=1",title:"Johnny Cay",spot:"San Andrs, Providencia y Santa Catalina",description:"Johnny Cay es un cayo a un kilmetro de San Andrs, famoso por sus playas blancas y la oferta de comidas, bebidas y planes. En sus inmediaciones, adems, es posible avistar fauna marina, como mantarrayas.",region:"Insular",climate:"Calido"},{name:"m_point",img:"https://i.ytimg.com/vi/GwZsf_zZwDo/maxresdefault.jpg?sqp=-oaymwEmCIAKENAF8quKqQMa8AEB-AHUBoAC4AOKAgwIABABGGUgYygyMA8=&rs=AOn4CLBoyXRb5cTK67XYwk0bjg9vqBGJzA",title:"Manglares de Old Point",spot:"San Andrs, Providencia y Santa Catalina",description:"Al oriente de la isla de San Andrs se encuentra el Parque Regional de Mangle Old Point, un lugar ideal para recorrer en kayak. Aqu puede observarse en detalle un ecosistema que alberga cangrejos, iguanas, lagartos y aves endmicas y migratorias, entre otras especies.\nLa comunidad administra el turismo en el lugar y son los guas de las experiencias de kayak que atraviesan los manglares para avistar la fauna que habita en el territorio. Los recorridos suelen durar dos horas, y tambin existe la posibilidad de hacer snorkeling.",region:"Insular",climate:"Calido"},{name:"r_cavo",img:"https://laschivasdelllano.com/wp-content/uploads/2023/11/Continua-monitoreo-en-el-rio-Cravo-Sur-tras-movimiento-en-masa-3.jpeg",title:"Ro Cravo Sur",spot:"Yopal, Casanare",description:"Este ro atraviesa el Casanare desde Yopal hasta desembocar en el ro Meta en Orocu. A lo largo de l, varios hatos y Reservas Naturales de la Sociedad Civil se encuentran ofreciendo productos tursticos, la mayora ligados con la conservacin de la cultura y la naturaleza de los llanos orientales.\nLugares como El Paraso, San Pablo, la reserva Palmarito o La Fortuna, son tambin visitados frecuentemente por cientficos que estudian la flora y la fauna de la Orinoqua, y ofrecen servicios de alojamiento y toures por el ro y los bosques, idneos para el avistamiento de fauna, como aves endmicas de Casanare, chigiros, caimanes llaneros, entre otros.",region:"Orinoqua",climate:"Templado"},{name:"c_guejar",img:"https://xperiencia.com.co/wp-content/uploads/2022/09/WhatsApp-Image-2022-09-07-at-8.03.57-PM.jpeg",title:"Can del ro Gejar",spot:"Mesetas, Meta",description:"Ubicado entre los municipios de Mesetas, el punto donde comienza el Parque Nacional Natural Sierra de La Macarena, y Lejanas, la principal actividad que se realiza all es el rafting a travs del caudal del ro. Durante el trayecto se realizan una serie de paradas en lugares como El Titanic, una de las ms conocidas formaciones rocosas del can, y en una cascada desde donde se puede ver el cerro del Indio acostado, una representativa montaa del Meta.",region:"Orinoquia",climate:"Calido"},{name:"p_tuparro",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Tuparro-1-1536x864.jpg",title:"Parque Nacional Natural el Tuparro",spot:"Puerto Carreo, Vichada",description:"Ubicado en jurisdiccin de Puerto Carreo, el parque alberga 320 especies de aves, adems de pumas, jaguares, dantas, delfines rosados, nutrias, chigiros y otras especies. Su belleza natural es tal que en el siglo XIX, el naturalista Alexander Von Humboldt calific como la octava maravilla del mundo al lugar que hoy se conoce como el Raudal de Maypues, uno de los mayores atractivos del parque.\nAdems, se pueden visitar lugares como la Reserva Bojonawi, donde se encuentra la emblemtica laguna El Pauelo; Cao Peinillas y Pozo Azul, entre otros.",region:"Orinoquia",climate:"Calido"},{name:"r_bita",img:"https://files.worldwildlife.org/wwfcmsprod/images/Bita_River_Sunset_Jorge_Garcia_/story_full_width/jv5wkcgk7_Rio_Bita_Jorge_Garcia__95_.jpg",title:"Ro Bita",spot:"Puerto Carreo, Vichada",description:"A la Orinoqua, y en particular al departamento del Vichada, vienen aficionados desde todo el mundo a realizar pesca deportiva pues el departamento guarda uno de los mejores ros del planeta para esa prctica: el Bita. All habitan especies como el pavn gigante, el pavn mariposa, el pinta lapa, bagres, el sinchao, entre varios otros. La mejor temporada para hacerlo es entre diciembre y abril, y los viajes suelen durar mnimo cinco das de los que, al menos, tres son de pesca.",region:"Orinoquia",climate:"Calido"},{name:"p_tierradentro",img:"https://colombiavisible.com/wp-content/uploads/2022/01/5-2-1536x864.jpg",title:"Parque Arqueolgico Tierradentro",spot:"Tierradentro, Cauca",description:"Desde 1995, el Parque Arqueolgico Nacional de Tierradentro es Patrimonio de la Humanidad de la UNESCO. En esta reserva arqueolgica hay vestigios de sociedades agrcolas que habitaron el territorio entre el 600 y el 900 d.C, hoy expuestas en un museo.\nAunque en Tierradentro hay un rea extensa de hipogeos y estatuas, tres sitios arqueolgicos se destacan sobre los dems: el Alto del Aguacate, el Alto de San Andrs y el Alto del Duende. Adems del Museo Arqueolgico, el Museo Etnogrfico de Tierradentro tambin abre sus puertas a visitantes.",region:"Pacifico",climate:"Templado"},{name:"p_gorgona",img:"https://colombiavisible.com/wp-content/uploads/2022/02/shutterstock_1495226381-1536x1024.jpg",title:"Parque Nacional Natural Gorgona",spot:"Gorgona, Cauca",description:"La isla, que entre 1960 y 1984 funcion como una prisin, debe su nombre, segn varios cronistas espaoles, a causa de las mltiples muertes de colonizadores por mordeduras de serpientes, que abundan en el territorio.\nEl lugar, declarado Parque Nacional Natural, es un paraso de diversidad en medio del ocano Pacfico y se compone de dos islas Gorgona y Gorgonilla. La primera, adems, ha sido denominada como Isla Ciencia por la cantidad de informacin que ha dado a investigadores para entender su ecosistema. Es Patrimonio de la Humanidad desde 1984. Es considerado como el segundo mejor lugar para realizar buceo en el pacfico, despus de Malpelo, as como un excelente espacio para avistar ballenas.",region:"Pacifico",climate:"Calido"},{name:"nuqui",img:"https://colombiapais.com/pagina-sol-y-playa/playas-mar-pacifico/imagenes/mar-pacifico-nuqui-panoramica.jpg",title:"Nuqu",spot:"Nuqu, Choc",description:"Nuqu es un municipio costero compuesto por siete corregimientos, casi todos ellos baados con los mares del Pacfico y manglares. Entre julio y noviembre, las ballenas jorobadas visitan las costas del municipio y existe una oferta turstica amplia para el avistamiento de estos mamferos.\nAdems de ello, dentro de la jurisdiccin de Nuqu, junto con Baha Solano, se encuentra el Parque Nacional Natural Utra, una de las zonas de ms biodiversidad del choc biogeogrfico, lo que hace del municipio un destino para el turismo de naturaleza.",region:"Pacifico",climate:"Calido"},{name:"b_solano",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Bahia-Solano-1536x864.jpg",title:"Baha Solano",spot:"Baha Solano, Choc",description:"Uno de los destinos ecotursticos ms demandados de Colombia, no solamente porque las ballenas jorobadas se pueden apreciar entre julio y octubre, sino porque tambin se conservan paisajes de selva virgen y distintas playas para caretear y observar otras especies marinas. Desde Baha Solano tambin se llega al Parque Nacional Natural Ensenada de Utra, la zona de partos de ballenas ms grande del mundo, donde los ballenatos aprenden sus primeros coletazos. En este destino tambin se pueden encontrar manglares, arrecifes coralinos y ms de 10 mil hectreas de Ocano.",region:"Pacifico",climate:"Calido"},{name:"l_cocha",img:"https://aventurecolombia.com/wp-content/uploads/2021/04/San-Juan-de-Pasto-et-Narino-Laguna-la-Cocha-colombia-%C2%A9_RemySoulard-1.jpg",title:"Laguna de La Cocha",spot:"Pasto, Nario",description:"Esta laguna se encuentra en el sistema de pramos ms bajo del mundo, rodeada de frailejones, encinos, arrayanes, anturios, sietecueros y otras especies de flora propias del clima fro, entre 3 y 15 grados centgrados. A su alrededor se ubican comunidades campesinas descendientes de indgenas quechua, kams, kofn y quillacingas que la consideraban lugar sagrado. Es la segunda laguna natural ms grande de Colombia, despus de La Tota (Boyac) y posee una isla en el medio, protegida por su riqueza natural.",region:"Pacifico",climate:"Frio"},{name:"p_farallones",img:"https://traveler.marriott.com/es/wp-content/uploads/sites/2/2020/11/GI-1054830418-FarallonesMountains.jpg",title:"Parque Natural Los Farallones",spot:"Cali, Valle del Cauca",description:"Los Farallones de Cali son las formaciones rocosa ms jvenes de la Cordillera Oriental y el parque es el rea protegida ms grande del Valle del Cauca en la que se conservan ms de 540 especies de aves, por lo que el avistamiento es uno de los principales atractivos del lugar. Adems, en su territorio nacen 30 ros y se pueden visitar varias cascadas y senderos, de los cuales el ms popular es el Pico del Loro, cuyo recorrido dura aproximadamente 3 horas y desde cuya cima se puede observar la cordillera occidental.",region:"Pacifico",climate:"Pramo"},{name:"b_rio",img:"https://colombiavisible.com/wp-content/uploads/2022/06/Boulevar-del-rio-Cali-1536x864.jpg",title:"Bulevar del Ro",spot:"Cali, Valle del Cauca",description:"Caminando alrededor del ro de la capital vallecaucana se puede conocer su historia. Desde el Gato de Tejada, una figura sonriente de bronce, de 3,5 metros de altura, esculpida por el pintor pereirano Hernando Tejada; hasta la Ermita, un templo gtico gris de 80 aos de Antigedad, se pueden apreciar en este paseo los encantos de Cali. En este recorrido a pie o en bicicleta, se pasa por el Puente Ortiz, monumento nacional y el primero en construirse sobre el ro Cali; el teatro Jorge Isaacs, junto a la estatua de este escritor del Valle, que comparte parque -el Parque de los Poetas- con otros autores que engrandecieron el aporte literario de este departamento, como Carlos Villafae, Ricardo Nieto, Octavio Gamboa y Octavio Llanos. Acompaando al Gato de Tejada, sobre el otro costado del ro se encuentran otras 15 esculturas gatunas elaboradas por distintos artistas para un concurso que realiz la ciudad.",region:"Pacifico",climate:"Templado"},{name:"b_milagros",img:"https://upload.wikimedia.org/wikipedia/commons/5/59/Basilica-nuestro-se%C3%B1or-de-los-milagros-buga.jpg",title:"Baslica del Seor de los Milagros",spot:"Guadalajara de Buga, Valle del Cauca",description:"Baslica de Buga Seor de los Milagros de grandes dimensiones al que acuden los turistas religiosos de todas las clases sociales del pas, alberga la imagen del Seor de los Milagros reconocida por la fe de sus devotos. La baslica se ha convertido en un museo por todos los elementos constructivos y de ornamentacin que posee, entre los que se cuentan un rgano tubular de 1935 que tiene 25 voces o juegos de flautas, 2 teclados manuales y uno de pedal. El campanario est compuesto de 5 campanas que dan las notas musicales mi, fa, sol, si, y la ms grande con un peso mayor de 3 toneladas. El reloj da la hora desde 1909.",region:"Pacifico",climate:"Templado"},{name:"l_calima",img:"https://laqua.com.co/wp-content/uploads/2019/08/lago-calima.png",title:"Lago Calima",spot:"El Darin, Valle del Cauca",description:"El lago Calima, como se conoce al Embalse Calima, se ha convertido en uno de los destinos tursticos ms importantes del sur occidente Colombiano, gracias a su clima, paisajes y oferta turstica; adems, sus fuertes y constantes vientos hacen de esta regin, el tercer lago en el mundo que ofrece condiciones muy favorables para el aprendizaje y la prctica de deportes como Kiteboard (Kitesurf), Windsurf, Optimist entre otros.",region:"Pacifico",climate:"Templado"}];class Op extends HTMLElement{constructor(){super(),this.header=[],this.home=[],this.recommended=[],this.attachShadow({mode:"open"}),Rp.forEach((e=>{const t=this.ownerDocument.createElement("app-header");t.setAttribute(Cp.logo,e.logo),t.setAttribute(Cp.regions,e.regions),t.setAttribute(Cp.climate,e.climate),t.setAttribute(Cp.profile,e.profile),this.header.push(t)})),Dp.forEach((e=>{const t=this.ownerDocument.createElement("app-home");t.setAttribute(Tp.img,e.img),t.setAttribute(Tp.title,e.title),t.setAttribute(Tp.spot,e.spot),this.home.push(t)})),Pp.forEach((e=>{const t=this.ownerDocument.createElement("app-recommended");t.setAttribute(Ap.img,e.img),t.setAttribute(Ap.title,e.title),t.setAttribute(Ap.spot,e.spot),this.recommended.push(t)}))}connectedCallback(){this.render()}render(){var e,t,n,i;if(this.shadowRoot){const s=this.ownerDocument.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href","/src/screens/dashboard/style.css"),this.shadowRoot.appendChild(s),this.header.forEach((e=>{var t;null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}));let r=this.ownerDocument.createElement("h2");null===(e=this.shadowRoot)||void 0===e||e.appendChild(r),r.setAttribute("class","card-title");let a=this.ownerDocument.createElement("main");null===(t=this.shadowRoot)||void 0===t||t.appendChild(a),r.textContent="Ya visitados",a.setAttribute("class","principal"),a&&this.home.forEach((e=>{a.appendChild(e)}));let o=this.ownerDocument.createElement("h2");null===(n=this.shadowRoot)||void 0===n||n.appendChild(o),o.setAttribute("class","card-title");let l=this.ownerDocument.createElement("Recomm");null===(i=this.shadowRoot)||void 0===i||i.appendChild(l),o.textContent="Recomendados",l.setAttribute("class","principal"),l&&this.recommended.forEach((e=>{l.appendChild(e)}))}}}var Lp;customElements.define("app-dashboard",Op),function(e){e.headerimg="headerimg",e.title="title",e.spot="spot",e.descript="descript",e.stars="stars",e.hotel="hotel",e.restaurant="restaurant",e.recommend="recommend",e.comment="comment"}(Lp||(Lp={}));class Mp extends HTMLElement{static get observedAttributes(){return[Lp.headerimg,Lp.title,Lp.spot,Lp.descript,Lp.stars,Lp.hotel,Lp.restaurant,Lp.recommend,Lp.comment]}constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}attributeChangedCallback(e,t,n){switch(e){case Lp.headerimg:this.headerimg=n?String(n):void 0;break;case Lp.title:this.sTitle=n?String(n):void 0;break;case Lp.spot:this.spot=n?String(n):void 0;case Lp.descript:this.descript=n?String(n):void 0;break;case Lp.stars:this.stars=n?String(n):void 0;break;case Lp.hotel:this.hotel=n?String(n):void 0;case Lp.restaurant:this.restaurant=n?String(n):void 0;break;case Lp.recommend:this.recommend=n?String(n):void 0;break;case Lp.comment:this.comment=n?String(n):void 0;default:this.propName=n}}render(){var e,t,n;if(this.shadowRoot){const i=this.ownerDocument.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href","../src/components/selectedspot/Selectedspot.css"),this.shadowRoot.appendChild(i);const s=this.ownerDocument.createElement("section");this.shadowRoot.appendChild(s);const r=this.ownerDocument.createElement("div");r.setAttribute("class","images"),s.appendChild(r);const a=this.ownerDocument.createElement("img");a.setAttribute("src",null!==(e=this.headerimg)&&void 0!==e?e:""),a.setAttribute("alt",""),r.appendChild(a);const o=this.ownerDocument.createElement("div");o.setAttribute("class","star-text"),s.appendChild(o);const l=this.ownerDocument.createElement("h1");l.textContent=this.title,o.appendChild(l);const c=this.ownerDocument.createElement("div");c.setAttribute("class","stars"),o.appendChild(c);for(let e=0;e<5;e++){const e=this.ownerDocument.createElement("img");e.setAttribute("src","/src/components/selectedspot/img/star_icon.png"),e.setAttribute("alt",""),c.appendChild(e)}const u=this.ownerDocument.createElement("h6");u.textContent=null!==(t=this.spot)&&void 0!==t?t:"",s.appendChild(u);const h=this.ownerDocument.createElement("p");h.setAttribute("class","description"),h.textContent=null!==(n=this.descript)&&void 0!==n?n:"",s.appendChild(h);const d=this.ownerDocument.createElement("div");d.setAttribute("class","establishment"),s.appendChild(d);const p=this.ownerDocument.createElement("label");p.setAttribute("for","establishment"),d.appendChild(p);const m=this.ownerDocument.createElement("img");m.setAttribute("src","/src/components/selectedspot/img/hotel_icon.png"),m.setAttribute("alt",""),p.appendChild(m);const f=this.ownerDocument.createElement("select");d.appendChild(f);const g=this.ownerDocument.createElement("option");g.setAttribute("value",""),g.textContent="Hotel A",f.appendChild(g);const v=this.ownerDocument.createElement("option");v.setAttribute("value","restaurant"),v.textContent="Hotel B",f.appendChild(v);const y=this.ownerDocument.createElement("div");y.setAttribute("class","recommendation"),s.appendChild(y);const b=this.ownerDocument.createElement("label");b.setAttribute("for","recommendation"),y.appendChild(b);const w=this.ownerDocument.createElement("img");w.setAttribute("src","/src/components/selectedspot/img/restaurant_icon.png"),w.setAttribute("alt",""),b.appendChild(w);const E=this.ownerDocument.createElement("select");y.appendChild(E);const C=this.ownerDocument.createElement("option");C.setAttribute("value",""),C.textContent="Restaurante A",E.appendChild(C);const _=this.ownerDocument.createElement("option");_.setAttribute("value","restaurant"),_.textContent="Restaurante B",E.appendChild(_)}}}customElements.define("app-spot",Mp);const xp={comm:""};class Up extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}render(){var e,t;this.shadowRoot&&(this.shadowRoot.innerHTML="");const n=this.ownerDocument.createElement("textarea");n.addEventListener("change",(e=>{xp.comm=e.target.value}));const i=this.ownerDocument.createElement("button");i.textContent="Publicar",i.addEventListener("click",(()=>function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var e;console.log(xp),Ti(yield(e=xp,function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}(void 0,void 0,void 0,(function*(){return yield bp(e),{action:bi.SAVE_COMMENT,payload:e}}))))})))),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n),null===(t=this.shadowRoot)||void 0===t||t.appendChild(i)}}customElements.define("app-comment",Up);class jp extends HTMLElement{constructor(){super(),this.header=[],this.sSpot=[],this.recommended=[],this.attachShadow({mode:"open"}),Rp.forEach((e=>{const t=this.ownerDocument.createElement("app-header");t.setAttribute(Cp.logo,e.logo),t.setAttribute(Cp.regions,e.regions),t.setAttribute(Cp.climate,e.climate),t.setAttribute(Cp.profile,e.profile),this.header.push(t)})),Pp.forEach((e=>{const t=this.ownerDocument.createElement("app-recommended");t.setAttribute(Ap.img,e.img),t.setAttribute(Ap.title,e.title),t.setAttribute(Ap.spot,e.spot),this.recommended.push(t)}))}connectedCallback(){this.render()}render(){if(this.shadowRoot){const e=this.ownerDocument.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href","/src/screens/place/place.css"),this.shadowRoot.appendChild(e);const t=this.ownerDocument.createElement("main");t.classList.add("main-container"),this.header.forEach((e=>{t.appendChild(e)}));const n=this.ownerDocument.createElement("app-spot");n.setAttribute(Lp.headerimg,"https://www.eluniversal.com.mx/resizer/7Loc41J5hFF0EhhlDfuOFfrixCE=/1100x666/cloudfront-us-east-1.images.arcpublishing.com/eluniversal/PS36GSZDDNBVDF5HUA2KBNKYL4.jpg"),n.setAttribute(Lp.title,"Cao Cristales"),n.setAttribute(Lp.spot,"Sierra de la Macarena, Meta"),n.setAttribute(Lp.descript,"Cao Cristales es un ro de Colombia que est ubicado en la sierra de la Macarena, en el municipio del mismo nombre, en el departamento del Meta."),t.appendChild(n);const i=this.ownerDocument.createElement("app-comment");i.classList.add("rectangle-toplist");const s=this.ownerDocument.createElement("div");s.classList.add("recommended-container"),this.recommended.forEach((e=>{s.appendChild(e)}));const r=this.ownerDocument.createElement("h6");r.textContent="Lugares recomendados",r.setAttribute("class","title-recommed"),t.appendChild(i),t.appendChild(r),t.appendChild(s),this.shadowRoot.appendChild(t)}}}customElements.define("app-place",jp);class Fp extends HTMLElement{constructor(){super(),this.header=[],this.home=[],this.attachShadow({mode:"open"}),Rp.forEach((e=>{const t=this.ownerDocument.createElement("app-header");t.setAttribute(Cp.logo,e.logo),t.setAttribute(Cp.regions,e.regions),t.setAttribute(Cp.climate,e.climate),t.setAttribute(Cp.profile,e.profile),this.header.push(t)})),Pp.forEach((e=>{const t=this.ownerDocument.createElement("app-home");t.setAttribute(Tp.img,e.img),t.setAttribute(Tp.title,e.title),t.setAttribute(Tp.spot,e.spot),t.setAttribute(Tp.region,e.region),this.home.push(t)}))}connectedCallback(){this.render()}render(){var e,t,n,i,s,r;if(this.shadowRoot){const a=this.ownerDocument.createElement("link");function o(e,t,n,i){const s=document.createElement("div"),r=document.createElement("h2");r.setAttribute("class","card-title"),r.textContent=e;const a=document.createElement("h3");a.setAttribute("class","card-description"),a.textContent=t;const o=document.createElement("main");return o.setAttribute("class","principal"),n.filter((e=>e.getAttribute(Tp.region)===i)).forEach((e=>{const t=e.cloneNode(!0);o.appendChild(t)})),s.appendChild(r),s.appendChild(a),s.appendChild(o),s}a.setAttribute("rel","stylesheet"),a.setAttribute("href","/src/screens/Region/Regions.css"),this.shadowRoot.appendChild(a),this.header.forEach((e=>{var t;null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}));const l=this.ownerDocument.createElement("main");l.appendChild(o("Regin Amaznica","Es la ms extensa ya que ocupa un 40% del territorio colombiano. Cuenta con fauna y flora inmensamente variada que resguarda buena parte de la biodiversidad del planeta. Su cultura est atravesada por la herencia ancestral indgena, pues en esta regin se encuentran casi 200 resguardos indgenas, donde conviven ms de 20 comunidades con distintas familias lingsticas como Tukano, Arawak, Tikuna, Huitoto y Tup.",this.home,"Amaznica")),null===(e=this.shadowRoot)||void 0===e||e.appendChild(l);const c=this.ownerDocument.createElement("main");c.appendChild(o("Regin Andina","Con cerca de 30 millones de habitantes, es la regin ms poblada y de mayor desarrollo econmico del pas, donde se ubican los 3 centros urbanos ms importantes: Bogot, Medelln y Cali. All se encuentran la cultura paisa, la santandereana, la cundiboyacense, la opita, la vallecaucana y la pastusa, que adems est en constante contacto con la regin del Pacfico colombiano.",this.home,"Andina")),null===(t=this.shadowRoot)||void 0===t||t.appendChild(c);const u=this.ownerDocument.createElement("main");u.appendChild(o("Regin Caribe","Histricamente ha sido una de las regiones de Colombia ms conectadas con el resto del mundo gracias a los puertos de Barranquilla y Cartagena, que a su vez, son sus dos principales centros urbanos. En esta regin surgieron expresiones culturales icnicas como la cumbia, el vallenato, las artesanas del pueblo Zen y el mundialmente famoso Carnaval de Barranquilla.",this.home,"Caribe")),null===(n=this.shadowRoot)||void 0===n||n.appendChild(u);const h=this.ownerDocument.createElement("main");h.appendChild(o("Regin Insular","Agrupa diferentes islas importantes alejadas del territorio continental colombiano. Esto incluye al de San Bernardo y el de San Andrs, Providencia y Santa Catalina (en el mar Caribe) y las islas Gorgona y Malpelo (en el ocano Pacfico). Cuenta con una belleza marina destacable y paisajes paradisacos con playas de arenas blancas, importantes reservas y santuarios naturales.",this.home,"Insular")),null===(i=this.shadowRoot)||void 0===i||i.appendChild(h);const d=this.ownerDocument.createElement("main");d.appendChild(o("Regin Orinoqua","Con amplias planicies que parecen infinitas, mltiples ros, ecosistemas nicos y baja densidad poblacional, la regin de la Orinoqua hace parte de la gran cuenca del ro Orinoco que comparten Colombia y Venezuela.",this.home,"Orinoquia")),null===(s=this.shadowRoot)||void 0===s||s.appendChild(d);const p=this.ownerDocument.createElement("main");p.appendChild(o("Regin Pacfica","El Pacfico colombiano atraviesa 4 departamentos y est compuesto por largas costas y selvas que conforman uno de los territorios ms agrestes y hmedos del continente, donde se concentra gran parte de la biodiversidad del pas.",this.home,"Pacifico")),null===(r=this.shadowRoot)||void 0===r||r.appendChild(p)}}}customElements.define("app-region",Fp);class Vp extends HTMLElement{constructor(){super(),this.header=[],this.home=[],this.attachShadow({mode:"open"}),Rp.forEach((e=>{const t=this.ownerDocument.createElement("app-header");t.setAttribute(Cp.logo,e.logo),t.setAttribute(Cp.regions,e.regions),t.setAttribute(Cp.climate,e.climate),t.setAttribute(Cp.profile,e.profile),this.header.push(t)})),Pp.forEach((e=>{const t=this.ownerDocument.createElement("app-home");t.setAttribute(Tp.img,e.img),t.setAttribute(Tp.title,e.title),t.setAttribute(Tp.spot,e.spot),t.setAttribute(Tp.climate,e.climate),this.home.push(t)}))}connectedCallback(){this.render()}render(){var e,t,n,i;if(this.shadowRoot){const s=this.ownerDocument.createElement("link");function r(e,t,n,i){const s=document.createElement("div"),r=document.createElement("h2");r.setAttribute("class","card-title"),r.textContent=e;const a=document.createElement("h3");a.setAttribute("class","card-description"),a.textContent=t;const o=document.createElement("main");return o.setAttribute("class","principal"),n.filter((e=>e.getAttribute(Tp.climate)===i)).forEach((e=>{const t=e.cloneNode(!0);o.appendChild(t)})),s.appendChild(r),s.appendChild(a),s.appendChild(o),s}s.setAttribute("rel","stylesheet"),s.setAttribute("href","/src/screens/Climate/Climate.css"),this.shadowRoot.appendChild(s),this.header.forEach((e=>{var t;null===(t=this.shadowRoot)||void 0===t||t.appendChild(e)}));const a=this.ownerDocument.createElement("main");a.appendChild(r("Clima Clido","El piso clido comprende las zonas localizadas entre 0 y 1000 metros de altura sobre el nivel del mar. Su temperatura promedio superior a los 24 grados. En Colombia, este piso abarca cerca de 913.000 Km2, correspondientes al 80% del territorio nacional. Se localiza en las llanuras costeras tanto del Pacifico como del Caribe, en los valles del ro Magdalena, Cauca, Cesar, Catatumbo, entre otros, as como tambin, en las extensas llanuras del Orinoco y la Amazona.",this.home,"Calido")),null===(e=this.shadowRoot)||void 0===e||e.appendChild(a);const o=this.ownerDocument.createElement("main");o.appendChild(r("Clima Templado","Comprende todas las reas ubicadas entre los 1.000 y 2.000 metros de altura sobre el nivel del mar. Sus temperaturas oscilan entre los 17 y 24 grados. En Colombia este piso cubre 114.000 Km2 correspondientes al 10% del territorio nacional, ubicndose en las zonas bajas de las montaas.",this.home,"Templado")),null===(t=this.shadowRoot)||void 0===t||t.appendChild(o);const l=this.ownerDocument.createElement("main");l.appendChild(r("Clima Fro","Corresponde a las zonas localizadas entre los 2.000 y 3.000 metros de altura. Presenta temperaturas que oscilan entre los 12 y 17 grados. Cubriendo 93.000 Km2, lo que corresponde al 7.9% del territorio nacional. Este piso tiene ms diversidad de temperaturas, segn su altura. En las noches las temperaturas son un poco ms bajas que en el da.",this.home,"Frio")),null===(n=this.shadowRoot)||void 0===n||n.appendChild(l);const c=this.ownerDocument.createElement("main");c.appendChild(r("Clima de Pramo","Se presenta en las reas situadas entre los 3.300 - 3-500 a 4.000 metros de altura. Presenta temperaturas entre los 6 y 12 C. Abarcan 23.000 Km cuadrados, equivalentes al 2% del territorio nacional. Se localiza en la parte superior de las cordilleras. Cerca del 70% de los ros del pas nacen en pramos Se caracteriza por tener una vegetacin baja y plantas como los frailejones y numerosas lagunas",this.home,"Pramo")),null===(i=this.shadowRoot)||void 0===i||i.appendChild(c)}}}customElements.define("app-climate",Vp);const qp={email:"",password:""};class zp extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),Ai(this)}connectedCallback(){this.render()}handleLoginButton(){return function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const e=yield yp(qp);null==e?alert("Can't login, try again!"):e&&(alert("Correctly logged!"),Ti(wp(Ei.DASHBOARD)))}))}render(){var e;if(this.shadowRoot){const t=this.ownerDocument.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","/src/screens/logIn/logIn.css"),this.shadowRoot.appendChild(t);const n=this.ownerDocument.createElement("section");n.classList.add("class-login");const i=this.ownerDocument.createElement("form");i.addEventListener("submit",(e=>{e.preventDefault()}));const s=this.ownerDocument.createElement("div");s.classList.add("class-logo");const r=document.createElement("img");r.setAttribute("src","/src/components/imgheader/quiwe2.png");const a=this.ownerDocument.createElement("div"),o=this.ownerDocument.createElement("h3");o.textContent="Correo electrnico";const l=this.ownerDocument.createElement("input");l.setAttribute("placeholder","Correo electrnico"),l.setAttribute("id","Correo electrnico"),l.addEventListener("change",(e=>{qp.email=e.target.value}));const c=this.ownerDocument.createElement("h3");c.textContent="Contrasea";const u=this.ownerDocument.createElement("input");u.setAttribute("placeholder","Contrasea"),u.setAttribute("id","Contrasea"),u.addEventListener("change",(e=>{qp.password=e.target.value}));const h=this.ownerDocument.createElement("div"),d=this.ownerDocument.createElement("button");d.textContent="Ingresar",d.addEventListener("click",(()=>{this.handleLoginButton()}));const p=this.ownerDocument.createElement("div");p.classList.add("class-acc");const m=this.ownerDocument.createElement("h3");m.textContent="No tengo una cuenta",m.addEventListener("click",(()=>{Ti(wp(Ei.SIGNIN))})),s.appendChild(r),a.appendChild(o),a.appendChild(l),a.appendChild(c),a.appendChild(u),h.appendChild(d),p.appendChild(m),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(h),n.appendChild(p),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n)}}}customElements.define("log-in",zp);const Bp={username:"",email:"",password:""};class Gp extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),Ai(this)}connectedCallback(){this.render()}handleSignUpButton(){return function(e,t,n,i){return new(n||(n=Promise))((function(s,r){function a(e){try{l(i.next(e))}catch(e){r(e)}}function o(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){const e=yield(({email:e,username:t,password:n})=>mp(void 0,void 0,void 0,(function*(){try{const t=yield async function(e,t,n){const i=Dt(e),s=Ut(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tn),r=await s.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&ln(e),t})),a=await nn._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(a.user),a}(vp,e,n);return console.log(t.user),!0}catch(e){const t=e.code,n=e.message;return console.log(t,n),!1}})))(Bp);null==e?alert("Can't register, try again!"):e&&(alert("Correctly registered!"),Ti(wp(Ei.LOGIN)))}))}render(){var e;if(this.shadowRoot){const t=this.ownerDocument.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href","/src/screens/signIn/signIn.css"),this.shadowRoot.appendChild(t);const n=this.ownerDocument.createElement("section");n.classList.add("class-signin");const i=this.ownerDocument.createElement("form");i.addEventListener("submit",(e=>{e.preventDefault()}));const s=this.ownerDocument.createElement("div");s.classList.add("class-logo");const r=document.createElement("img");r.setAttribute("src","/src/components/imgheader/quiwe2.png");const a=this.ownerDocument.createElement("div"),o=this.ownerDocument.createElement("h3");o.textContent="Nombre";const l=this.ownerDocument.createElement("input");l.setAttribute("placeholder","Nombre"),l.setAttribute("id","Nombre"),l.addEventListener("change",(e=>{Bp.username=e.target.value}));const c=this.ownerDocument.createElement("h3");c.textContent="Correo electrnico";const u=this.ownerDocument.createElement("input");u.setAttribute("placeholder","Correo electrnico"),u.setAttribute("id","Correo electrnico"),u.addEventListener("change",(e=>{Bp.email=e.target.value}));const h=this.ownerDocument.createElement("h3");h.textContent="Contrasea";const d=this.ownerDocument.createElement("input");d.setAttribute("placeholder","Contrasea"),d.setAttribute("id","Contrasea"),d.addEventListener("change",(e=>{Bp.password=e.target.value}));const p=this.ownerDocument.createElement("h3");p.textContent="Confirmar contrasea";const m=this.ownerDocument.createElement("input");m.setAttribute("placeholder","Confirmar contrasea"),m.setAttribute("id","Contrasea"),m.addEventListener("change",(e=>{Bp.password!==e.target.value&&(console.log("Password do not match :("),alert("The passwords aren't the same"))}));const f=this.ownerDocument.createElement("div"),g=this.ownerDocument.createElement("button");g.textContent="Registrarse",g.addEventListener("click",(()=>{this.handleSignUpButton()}));const v=this.ownerDocument.createElement("div");v.classList.add("class-acc");const y=this.ownerDocument.createElement("h3");y.textContent="Ya tengo una cuenta",y.addEventListener("click",(()=>{Ti(wp(Ei.LOGIN))})),s.appendChild(r),a.appendChild(o),a.appendChild(l),a.appendChild(c),a.appendChild(u),a.appendChild(h),a.appendChild(d),a.appendChild(p),a.appendChild(m),f.appendChild(g),v.appendChild(y),n.appendChild(i),n.appendChild(s),n.appendChild(a),n.appendChild(f),n.appendChild(v),null===(e=this.shadowRoot)||void 0===e||e.appendChild(n)}}}customElements.define("sign-in",Gp);class Hp extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),Ai(this)}connectedCallback(){this.render()}render(){var e,t,n,i,s,r;if(this.shadowRoot)switch(this.shadowRoot.innerHTML="",_i.screen){case Ei.LOGIN:const a=this.ownerDocument.createElement("log-in");null===(e=this.shadowRoot)||void 0===e||e.appendChild(a);break;case Ei.SIGNIN:const o=this.ownerDocument.createElement("sign-in");null===(t=this.shadowRoot)||void 0===t||t.appendChild(o);break;case Ei.DASHBOARD:const l=this.ownerDocument.createElement("app-dashboard");null===(n=this.shadowRoot)||void 0===n||n.appendChild(l);break;case Ei.SPOTSELECT:const c=this.ownerDocument.createElement("app-place");null===(i=this.shadowRoot)||void 0===i||i.appendChild(c);break;case Ei.REGIONS:const u=this.ownerDocument.createElement("app-region");null===(s=this.shadowRoot)||void 0===s||s.appendChild(u);break;case Ei.CLIMATE:const h=this.ownerDocument.createElement("app-climate");null===(r=this.shadowRoot)||void 0===r||r.appendChild(h)}}}customElements.define("app-container",Hp)})()})();